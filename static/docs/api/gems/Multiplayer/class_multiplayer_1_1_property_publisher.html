<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Multiplayer Gem API Reference: Multiplayer::PropertyPublisher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine Multiplayer Gem API Reference<span id="projectnumber">&#160;23.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_multiplayer_1_1_property_publisher.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_multiplayer_1_1_property_publisher-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Multiplayer::PropertyPublisher Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Private helper class for the <a class="el" href="class_multiplayer_1_1_entity_replicator.html" title="Handles replication of a single entity for one connection.">EntityReplicator</a> to serialize and track entity adds/updates/deletes. The <a class="el" href="class_multiplayer_1_1_entity_replicator.html" title="Handles replication of a single entity for one connection.">EntityReplicator</a> owns the actual sending of the records. This class tracks the acknowledgement state of all the published records so that it can aggregate and reserialize changes for any updates or deletes that occur before previous records have been acknowledged. This also tracks whether or not it has <em>ever</em> received an acknowledgement and stores it in IsRemoteReplicatorEstablished as a way to know if the receiver has created the replicated entity.  
 <a href="class_multiplayer_1_1_property_publisher.html#details">More...</a></p>

<p><code>#include &lt;PropertyPublisher.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a40357dc89671d6cfc715e76ef41820c6"><td class="memItemLeft" align="right" valign="top"><a id="a40357dc89671d6cfc715e76ef41820c6" name="a40357dc89671d6cfc715e76ef41820c6"></a>enum class &#160;</td><td class="memItemRight" valign="bottom"><b>OwnsLifetime</b> { <b>True</b>
, <b>False</b>
 }</td></tr>
<tr class="separator:a40357dc89671d6cfc715e76ef41820c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1bd5fb115adbb43dfdf0d43665ff3537"><td class="memItemLeft" align="right" valign="top"><a id="a1bd5fb115adbb43dfdf0d43665ff3537" name="a1bd5fb115adbb43dfdf0d43665ff3537"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PropertyPublisher</b> (NetEntityRole remoteNetworkRole, OwnsLifetime ownsLifetime, AzNetworking::IConnection &amp;connection)</td></tr>
<tr class="separator:a1bd5fb115adbb43dfdf0d43665ff3537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f054d9c8730d6a5172c488b514fcc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#ad8f054d9c8730d6a5172c488b514fcc2">SetRebasing</a> ()</td></tr>
<tr class="separator:ad8f054d9c8730d6a5172c488b514fcc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451e17e5fcbbb2c55176d7b26a5d5ca1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#a451e17e5fcbbb2c55176d7b26a5d5ca1">SetDeleting</a> ()</td></tr>
<tr class="separator:a451e17e5fcbbb2c55176d7b26a5d5ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efc9aed46d5a2e4de96765ea3e648c5"><td class="memItemLeft" align="right" valign="top"><a id="a8efc9aed46d5a2e4de96765ea3e648c5" name="a8efc9aed46d5a2e4de96765ea3e648c5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsDeleting</b> () const</td></tr>
<tr class="memdesc:a8efc9aed46d5a2e4de96765ea3e648c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the entity should be deleted, false if not. It will return true whether or not the delete has been acknowledged. <br /></td></tr>
<tr class="separator:a8efc9aed46d5a2e4de96765ea3e648c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae322996de9f58eb80f4a267a7c66dff0"><td class="memItemLeft" align="right" valign="top"><a id="ae322996de9f58eb80f4a267a7c66dff0" name="ae322996de9f58eb80f4a267a7c66dff0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsDeleted</b> () const</td></tr>
<tr class="memdesc:ae322996de9f58eb80f4a267a7c66dff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true only if the entity delete has been acknlowledged. <br /></td></tr>
<tr class="separator:ae322996de9f58eb80f4a267a7c66dff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487fe41226f1c6a69e653863ff62f77a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#a487fe41226f1c6a69e653863ff62f77a">IsRemoteReplicatorEstablished</a> () const</td></tr>
<tr class="separator:a487fe41226f1c6a69e653863ff62f77a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cfa38bd3ba24aacfc4c71bd38fad662"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#a6cfa38bd3ba24aacfc4c71bd38fad662">CacheDeletePacket</a> (<a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *netBindComponent, bool wasMigrated)</td></tr>
<tr class="separator:a6cfa38bd3ba24aacfc4c71bd38fad662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eeb2f773468a10a37b1e22a99cffaf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_multiplayer_1_1_entity_migration_message.html">EntityMigrationMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#a5eeb2f773468a10a37b1e22a99cffaf2">GenerateMigrationPacket</a> (<a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *netBindComponent)</td></tr>
<tr class="separator:a5eeb2f773468a10a37b1e22a99cffaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd839ff87a2df21b7c5457f6da904ba6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#abd839ff87a2df21b7c5457f6da904ba6">UpdatePendingRecord</a> (<a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *netBindComponent)</td></tr>
<tr class="separator:abd839ff87a2df21b7c5457f6da904ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1b4a55cc36dfc8ea54c44c92663981"><td class="memItemLeft" align="right" valign="top"><a id="a7d1b4a55cc36dfc8ea54c44c92663981" name="a7d1b4a55cc36dfc8ea54c44c92663981"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>RequiresSerialization</b> ()</td></tr>
<tr class="memdesc:a7d1b4a55cc36dfc8ea54c44c92663981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there are any changes pending to send, false if not. <br /></td></tr>
<tr class="separator:a7d1b4a55cc36dfc8ea54c44c92663981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ff4cde19ad308434f93ae640a2ad7f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#a31ff4cde19ad308434f93ae640a2ad7f">PrepareSerialization</a> (<a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *netBindComponent)</td></tr>
<tr class="separator:a31ff4cde19ad308434f93ae640a2ad7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb2945270e2dc5cca5ac180e43a6fa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_multiplayer_1_1_network_entity_update_message.html">NetworkEntityUpdateMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#a6cb2945270e2dc5cca5ac180e43a6fa3">GenerateUpdatePacket</a> (<a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *netBindComponent, bool wasMigrated)</td></tr>
<tr class="separator:a6cb2945270e2dc5cca5ac180e43a6fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f116637bd3047a8dbf88eea8f0226c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_multiplayer_1_1_property_publisher.html#a0f116637bd3047a8dbf88eea8f0226c8">FinalizeSerialization</a> (AzNetworking::PacketId sentId)</td></tr>
<tr class="separator:a0f116637bd3047a8dbf88eea8f0226c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Private helper class for the <a class="el" href="class_multiplayer_1_1_entity_replicator.html" title="Handles replication of a single entity for one connection.">EntityReplicator</a> to serialize and track entity adds/updates/deletes. The <a class="el" href="class_multiplayer_1_1_entity_replicator.html" title="Handles replication of a single entity for one connection.">EntityReplicator</a> owns the actual sending of the records. This class tracks the acknowledgement state of all the published records so that it can aggregate and reserialize changes for any updates or deletes that occur before previous records have been acknowledged. This also tracks whether or not it has <em>ever</em> received an acknowledgement and stores it in IsRemoteReplicatorEstablished as a way to know if the receiver has created the replicated entity. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6cfa38bd3ba24aacfc4c71bd38fad662" name="a6cfa38bd3ba24aacfc4c71bd38fad662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cfa38bd3ba24aacfc4c71bd38fad662">&#9670;&#160;</a></span>CacheDeletePacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Multiplayer::PropertyPublisher::CacheDeletePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *&#160;</td>
          <td class="paramname"><em>netBindComponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wasMigrated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate and cache a "delete" update packet for this entity. For deletes, the entity data will no longer be available by the time <a class="el" href="class_multiplayer_1_1_property_publisher.html#a6cb2945270e2dc5cca5ac180e43a6fa3">GenerateUpdatePacket()</a> is called, so the update packet needs to get generated before the local entity delete is completed. </p><dl class="section return"><dt>Returns</dt><dd>true if a delete packet was cached, false if it wasn't If the delete packet wasn't cached, it's typically because it is unnecessary, since the add was never sent. </dd></dl>

</div>
</div>
<a id="a0f116637bd3047a8dbf88eea8f0226c8" name="a0f116637bd3047a8dbf88eea8f0226c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f116637bd3047a8dbf88eea8f0226c8">&#9670;&#160;</a></span>FinalizeSerialization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Multiplayer::PropertyPublisher::FinalizeSerialization </td>
          <td>(</td>
          <td class="paramtype">AzNetworking::PacketId&#160;</td>
          <td class="paramname"><em>sentId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Track the given packet id so that we can continue to send any fields currently changed until this packet (or later) has been acknowledged. </p>

</div>
</div>
<a id="a5eeb2f773468a10a37b1e22a99cffaf2" name="a5eeb2f773468a10a37b1e22a99cffaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eeb2f773468a10a37b1e22a99cffaf2">&#9670;&#160;</a></span>GenerateMigrationPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_multiplayer_1_1_entity_migration_message.html">EntityMigrationMessage</a> Multiplayer::PropertyPublisher::GenerateMigrationPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *&#160;</td>
          <td class="paramname"><em>netBindComponent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate a migration packet for this entity. Unlike GenerateUpdatePacket, this method expects that you have <em>not</em> called PrepareSerialization first. </p>

</div>
</div>
<a id="a6cb2945270e2dc5cca5ac180e43a6fa3" name="a6cb2945270e2dc5cca5ac180e43a6fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb2945270e2dc5cca5ac180e43a6fa3">&#9670;&#160;</a></span>GenerateUpdatePacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_multiplayer_1_1_network_entity_update_message.html">NetworkEntityUpdateMessage</a> Multiplayer::PropertyPublisher::GenerateUpdatePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *&#160;</td>
          <td class="paramname"><em>netBindComponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wasMigrated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate an add/update/delete packet for this entity. This method expects that UpdatePendingRecord and PrepareSerialization have been called prior to this. </p>

</div>
</div>
<a id="a487fe41226f1c6a69e653863ff62f77a" name="a487fe41226f1c6a69e653863ff62f77a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487fe41226f1c6a69e653863ff62f77a">&#9670;&#160;</a></span>IsRemoteReplicatorEstablished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Multiplayer::PropertyPublisher::IsRemoteReplicatorEstablished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the receiver has acknowledged at least one serialized record, which means that it exists and has created the entity and an entity replicator. </p>

</div>
</div>
<a id="a31ff4cde19ad308434f93ae640a2ad7f" name="a31ff4cde19ad308434f93ae640a2ad7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31ff4cde19ad308434f93ae640a2ad7f">&#9670;&#160;</a></span>PrepareSerialization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Multiplayer::PropertyPublisher::PrepareSerialization </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *&#160;</td>
          <td class="paramname"><em>netBindComponent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Based on the current publishing state, append an updated list of changed fields to the pending record and add it to the sentRecords list. </p>

</div>
</div>
<a id="a451e17e5fcbbb2c55176d7b26a5d5ca1" name="a451e17e5fcbbb2c55176d7b26a5d5ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451e17e5fcbbb2c55176d7b26a5d5ca1">&#9670;&#160;</a></span>SetDeleting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Multiplayer::PropertyPublisher::SetDeleting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the publishing state to "deleting". The next record sent will be a delete record. Delete records will also send the final changed property states at the point of deletion. </p>

</div>
</div>
<a id="ad8f054d9c8730d6a5172c488b514fcc2" name="ad8f054d9c8730d6a5172c488b514fcc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f054d9c8730d6a5172c488b514fcc2">&#9670;&#160;</a></span>SetRebasing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Multiplayer::PropertyPublisher::SetRebasing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the publishing state to "rebasing". The next record sent will be a rebase record. Rebase records send the full replication state for Autonomous entities minus the predictable properties. These can be useful for client migrations. </p>

</div>
</div>
<a id="abd839ff87a2df21b7c5457f6da904ba6" name="abd839ff87a2df21b7c5457f6da904ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd839ff87a2df21b7c5457f6da904ba6">&#9670;&#160;</a></span>UpdatePendingRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Multiplayer::PropertyPublisher::UpdatePendingRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_multiplayer_1_1_net_bind_component.html">NetBindComponent</a> *&#160;</td>
          <td class="paramname"><em>netBindComponent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Append an updated list of changed fields to the pending record. This can get called multiple times in a frame without harm, the changes will just keep accumulating. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Multiplayer/Code/Source/NetworkEntity/EntityReplication/PropertyPublisher.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Multiplayer</b></li><li class="navelem"><a class="el" href="class_multiplayer_1_1_property_publisher.html">PropertyPublisher</a></li>
    <li class="footer">Generated on Mon Oct 9 2023 13:49:31 for Open 3D Engine Multiplayer Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
