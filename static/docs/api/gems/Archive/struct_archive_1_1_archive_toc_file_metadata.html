<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Archive Gem API Reference: Archive::ArchiveTocFileMetadata Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-placeholder-text"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine Archive Gem API Reference
   &#160;<span id="projectnumber">24.09</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('struct_archive_1_1_archive_toc_file_metadata.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_archive_1_1_archive_toc_file_metadata-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Archive::ArchiveTocFileMetadata Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents an entry of a single file within the Archive.  
 <a href="struct_archive_1_1_archive_toc_file_metadata.html#details">More...</a></p>

<p><code>#include &lt;ArchiveInterfaceStructs.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac8631e9bba69b157e817f0fac560598f"><td class="memItemLeft" align="right" valign="top">AZ::u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html#ac8631e9bba69b157e817f0fac560598f">m_uncompressedSize</a>: 35</td></tr>
<tr class="separator:ac8631e9bba69b157e817f0fac560598f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f9a16ace84d3201ab68dadfa32f975"><td class="memItemLeft" align="right" valign="top">AZ::u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html#aa1f9a16ace84d3201ab68dadfa32f975">m_compressedSizeInSectors</a>: 26</td></tr>
<tr class="separator:aa1f9a16ace84d3201ab68dadfa32f975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2777975100af86d0c0fa880ae7d88d"><td class="memItemLeft" align="right" valign="top">AZ::u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html#a1f2777975100af86d0c0fa880ae7d88d">m_compressionAlgoIndex</a>: 3</td></tr>
<tr class="separator:a1f2777975100af86d0c0fa880ae7d88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a134917718b12a07bcdfd1070979590fc"><td class="memItemLeft" align="right" valign="top">AZ::u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html#a134917718b12a07bcdfd1070979590fc">m_blockLineTableFirstIndex</a>: 25</td></tr>
<tr class="separator:a134917718b12a07bcdfd1070979590fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c343224a4df2bb6bc71e06ca348d918"><td class="memItemLeft" align="right" valign="top">AZ::u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html#a6c343224a4df2bb6bc71e06ca348d918">m_offset</a>: 39</td></tr>
<tr class="separator:a6c343224a4df2bb6bc71e06ca348d918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03bcaaba3f9e0ef939b8b4c2dc5255e"><td class="memItemLeft" align="right" valign="top">AZ::Crc32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html#aa03bcaaba3f9e0ef939b8b4c2dc5255e">m_crc32</a> {}</td></tr>
<tr class="separator:aa03bcaaba3f9e0ef939b8b4c2dc5255e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c40b6eccd608ebdc42dde9c1f2d251"><td class="memItemLeft" align="right" valign="top">AZStd::byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html#a16c40b6eccd608ebdc42dde9c1f2d251">m_unused</a> [12] {}</td></tr>
<tr class="separator:a16c40b6eccd608ebdc42dde9c1f2d251"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents an entry of a single file within the Archive. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a134917718b12a07bcdfd1070979590fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a134917718b12a07bcdfd1070979590fc">&#9670;&nbsp;</a></span>m_blockLineTableFirstIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZ::u64 Archive::ArchiveTocFileMetadata::m_blockLineTableFirstIndex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Index of the first block which line contains compressed data for this file Up to 2^25 ~ 33.55 million block lines can be referenced Each block line can represent up to 3 "2 MiB" blocks of content data that has been compressed Therefore a total of (2^25 * 3) ~ 100.66 million blocks can be stored</p>
<p>NOTE: This is only used if the file is stored compressed If the compressionAlgorithm index is UncompressedAlgorithmIndex then the file is stored uncompressed and the <code>m_offset</code> member represents a contiguous block that is 512 byte aligned </p>

</div>
</div>
<a id="aa1f9a16ace84d3201ab68dadfa32f975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1f9a16ace84d3201ab68dadfa32f975">&#9670;&nbsp;</a></span>m_compressedSizeInSectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZ::u64 Archive::ArchiveTocFileMetadata::m_compressedSizeInSectors</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores compressed blocks that stored aligned on 512-byte sectors Therefore this can represent bytes sizes up to 35-bits as well while the value actually being stored is a 512-byte sector size 2^26 sectors * 512 bytes = 2^26 * 2^9 = 2^35 bytes Each 2 MiB chunk of a file compressed sectors are aggregated in this member For example if a 4 MiB file was compressed and the 2 "2 MiB" block compressed down to 513 and 511 bytes each, then compressed size in 512-byte sectors would be 3 due to rounding up each block to the nearest 512 byte boundary AlignUpToMultiple512(513) / 512 = 2 </p>
<h2><a class="anchor" id="autotoc_md0"></a>
+ AlignUptoMultiple512(511) / 512 = 1</h2>
<p>3 </p>

</div>
</div>
<a id="a1f2777975100af86d0c0fa880ae7d88d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f2777975100af86d0c0fa880ae7d88d">&#9670;&nbsp;</a></span>m_compressionAlgoIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZ::u64 Archive::ArchiveTocFileMetadata::m_compressionAlgoIndex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores an index into Compression ID table to indicate the compression algorithm the file uses or UncompressedAlgorithmIndex if the value is set to UncompressedAlgorithmIndex, the block table index is not used </p>

</div>
</div>
<a id="aa03bcaaba3f9e0ef939b8b4c2dc5255e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03bcaaba3f9e0ef939b8b4c2dc5255e">&#9670;&nbsp;</a></span>m_crc32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZ::Crc32 Archive::ArchiveTocFileMetadata::m_crc32 {}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>offset = 16 Stores a checksum value of the file uncompressed data This can be used to validate that uncompressed file contents </p>

</div>
</div>
<a id="a6c343224a4df2bb6bc71e06ca348d918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c343224a4df2bb6bc71e06ca348d918">&#9670;&nbsp;</a></span>m_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZ::u64 Archive::ArchiveTocFileMetadata::m_offset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset within the archive where the file actually starts Due to files within the archive being aligned on 512-byte boundaries This can represent a offset of up to (39 + 9) bits or 2^48 = 256TiB The actual cap for Archive V1 layout is around 64TiB, since the m_blockTable can only represent 2^25 "2 MiB" blocks, which is (2^25 * 2^21) = 2^46 = 64TiB </p>

</div>
</div>
<a id="ac8631e9bba69b157e817f0fac560598f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8631e9bba69b157e817f0fac560598f">&#9670;&nbsp;</a></span>m_uncompressedSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZ::u64 Archive::ArchiveTocFileMetadata::m_uncompressedSize</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>represents the file after it has been uncompressed on disk Can represent a file up to 2^35 = 32GiB </p>

</div>
</div>
<a id="a16c40b6eccd608ebdc42dde9c1f2d251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c40b6eccd608ebdc42dde9c1f2d251">&#9670;&nbsp;</a></span>m_unused</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZStd::byte Archive::ArchiveTocFileMetadata::m_unused[12] {}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>offset = 20 Add padding bytes to fill the File Metadata structure with 0 bytes on construction </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>Gems/Archive/Code/Include/Archive/Clients/ArchiveInterfaceStructs.h</li>
<li>Gems/Archive/Code/Include/Archive/Clients/ArchiveInterfaceStructs.inl</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Archive</b></li><li class="navelem"><a class="el" href="struct_archive_1_1_archive_toc_file_metadata.html">ArchiveTocFileMetadata</a></li>
    <li class="footer">Generated on Tue Oct 8 2024 21:27:25 for Open 3D Engine Archive Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
