<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Archive Gem API Reference: Archive::ArchiveWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine Archive Gem API Reference<span id="projectnumber">&#160;24.09</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_archive_1_1_archive_writer.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_archive_1_1_archive_writer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Archive::ArchiveWriter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;ArchiveWriter.h&gt;</code></p>

<p>Inherits <a class="el" href="class_archive_1_1_i_archive_writer.html">Archive::IArchiveWriter</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad85f067ac2d8e13733ff19eb47b90ae5" id="r_ad85f067ac2d8e13733ff19eb47b90ae5"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad85f067ac2d8e13733ff19eb47b90ae5">CommitResult</a> = AZStd::expected&lt;void, ResultString&gt;</td></tr>
<tr class="separator:ad85f067ac2d8e13733ff19eb47b90ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_archive_1_1_i_archive_writer"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_class_archive_1_1_i_archive_writer')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_archive_1_1_i_archive_writer.html">Archive::IArchiveWriter</a></td></tr>
<tr class="memitem:ab44ee4b7b81cfdd8dda189e43db7e5e4 inherit pub_types_class_archive_1_1_i_archive_writer" id="r_ab44ee4b7b81cfdd8dda189e43db7e5e4"><td class="memItemLeft" align="right" valign="top">
using&#160;</td><td class="memItemRight" valign="bottom"><b>ArchiveStreamPtr</b> = AZStd::unique_ptr&lt;AZ::IO::GenericStream, <a class="el" href="struct_archive_1_1_i_archive_writer_1_1_archive_stream_deleter.html">ArchiveStreamDeleter</a>&gt;</td></tr>
<tr class="separator:ab44ee4b7b81cfdd8dda189e43db7e5e4 inherit pub_types_class_archive_1_1_i_archive_writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545eb320cc034dfeee10df545218ed71 inherit pub_types_class_archive_1_1_i_archive_writer" id="r_a545eb320cc034dfeee10df545218ed71"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_archive_1_1_i_archive_writer.html#a545eb320cc034dfeee10df545218ed71">CommitResult</a> = AZStd::expected&lt;void, ResultString&gt;</td></tr>
<tr class="separator:a545eb320cc034dfeee10df545218ed71 inherit pub_types_class_archive_1_1_i_archive_writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7650c549161ac96d3961641345ee06df" id="r_a7650c549161ac96d3961641345ee06df"><td class="memItemLeft" align="right" valign="top"><a id="a7650c549161ac96d3961641345ee06df" name="a7650c549161ac96d3961641345ee06df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_TYPE_INFO_WITH_NAME_DECL</b> (<a class="el" href="class_archive_1_1_archive_writer.html">ArchiveWriter</a>)</td></tr>
<tr class="separator:a7650c549161ac96d3961641345ee06df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e416d5fb6525f16ef4d9be69adbf3b0" id="r_a8e416d5fb6525f16ef4d9be69adbf3b0"><td class="memItemLeft" align="right" valign="top"><a id="a8e416d5fb6525f16ef4d9be69adbf3b0" name="a8e416d5fb6525f16ef4d9be69adbf3b0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_RTTI_NO_TYPE_INFO_DECL</b> ()</td></tr>
<tr class="separator:a8e416d5fb6525f16ef4d9be69adbf3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4827339f031d650574048bdbb80cda7" id="r_af4827339f031d650574048bdbb80cda7"><td class="memItemLeft" align="right" valign="top"><a id="af4827339f031d650574048bdbb80cda7" name="af4827339f031d650574048bdbb80cda7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ArchiveWriter</b> (const <a class="el" href="struct_archive_1_1_archive_writer_settings.html">ArchiveWriterSettings</a> &amp;writerSettings)</td></tr>
<tr class="memdesc:af4827339f031d650574048bdbb80cda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an archive writer using the specified writer settings. <br /></td></tr>
<tr class="separator:af4827339f031d650574048bdbb80cda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0284c15f9ab14a8fc77de8656e2224a6" id="r_a0284c15f9ab14a8fc77de8656e2224a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0284c15f9ab14a8fc77de8656e2224a6">ArchiveWriter</a> (AZ::IO::PathView archivePath, const <a class="el" href="struct_archive_1_1_archive_writer_settings.html">ArchiveWriterSettings</a> &amp;writerSettings={})</td></tr>
<tr class="separator:a0284c15f9ab14a8fc77de8656e2224a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5bdf458cd193e18b725f77ef7ea2727" id="r_af5bdf458cd193e18b725f77ef7ea2727"><td class="memItemLeft" align="right" valign="top"><a id="af5bdf458cd193e18b725f77ef7ea2727" name="af5bdf458cd193e18b725f77ef7ea2727"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ArchiveWriter</b> (ArchiveStreamPtr archiveStream, const <a class="el" href="struct_archive_1_1_archive_writer_settings.html">ArchiveWriterSettings</a> &amp;writerSettings={})</td></tr>
<tr class="memdesc:af5bdf458cd193e18b725f77ef7ea2727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes ownership of the open stream and will optionally delete it based on the ArchiveFileDeleter. <br /></td></tr>
<tr class="separator:af5bdf458cd193e18b725f77ef7ea2727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07dca2bbaad94db00a75411fe66f6ab" id="r_ab07dca2bbaad94db00a75411fe66f6ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab07dca2bbaad94db00a75411fe66f6ab">MountArchive</a> (AZ::IO::PathView archivePath) override</td></tr>
<tr class="separator:ab07dca2bbaad94db00a75411fe66f6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12bf21bbd42e778a4e9b4696ed13b240" id="r_a12bf21bbd42e778a4e9b4696ed13b240"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12bf21bbd42e778a4e9b4696ed13b240">MountArchive</a> (ArchiveStreamPtr archiveStream) override</td></tr>
<tr class="separator:a12bf21bbd42e778a4e9b4696ed13b240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af93204e2757e7382681f7183c5a4cb19" id="r_af93204e2757e7382681f7183c5a4cb19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af93204e2757e7382681f7183c5a4cb19">UnmountArchive</a> () override</td></tr>
<tr class="separator:af93204e2757e7382681f7183c5a4cb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa1d4be3a673e74f700050a1ce51b7c" id="r_adfa1d4be3a673e74f700050a1ce51b7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfa1d4be3a673e74f700050a1ce51b7c">IsMounted</a> () const override</td></tr>
<tr class="memdesc:adfa1d4be3a673e74f700050a1ce51b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if an open archive that is mounted.  <br /></td></tr>
<tr class="separator:adfa1d4be3a673e74f700050a1ce51b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e743d644acb6f4a2c4cf2abdd80719" id="r_ad9e743d644acb6f4a2c4cf2abdd80719"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ad85f067ac2d8e13733ff19eb47b90ae5">CommitResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9e743d644acb6f4a2c4cf2abdd80719">Commit</a> () override</td></tr>
<tr class="separator:ad9e743d644acb6f4a2c4cf2abdd80719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0138a47b15bd4faa24434dafc7f662d" id="r_ad0138a47b15bd4faa24434dafc7f662d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_archive_1_1_archive_add_file_result.html">ArchiveAddFileResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0138a47b15bd4faa24434dafc7f662d">AddFileToArchive</a> (AZ::IO::GenericStream &amp;inputStream, const <a class="el" href="struct_archive_1_1_archive_writer_file_settings.html">ArchiveWriterFileSettings</a> &amp;fileSettings) override</td></tr>
<tr class="separator:ad0138a47b15bd4faa24434dafc7f662d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab969236650cc0c2831e599012a1a3316" id="r_ab969236650cc0c2831e599012a1a3316"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_archive_1_1_archive_add_file_result.html">ArchiveAddFileResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab969236650cc0c2831e599012a1a3316">AddFileToArchive</a> (AZStd::span&lt; const AZStd::byte &gt; inputSpan, const <a class="el" href="struct_archive_1_1_archive_writer_file_settings.html">ArchiveWriterFileSettings</a> &amp;fileSettings) override</td></tr>
<tr class="separator:ab969236650cc0c2831e599012a1a3316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382b4cfc32ba8ad680020020e560e10c" id="r_a382b4cfc32ba8ad680020020e560e10c"><td class="memItemLeft" align="right" valign="top">ArchiveFileToken&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a382b4cfc32ba8ad680020020e560e10c">FindFile</a> (AZ::IO::PathView relativePath) const override</td></tr>
<tr class="separator:a382b4cfc32ba8ad680020020e560e10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab636fd529043f8416382818debe60b6b" id="r_ab636fd529043f8416382818debe60b6b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab636fd529043f8416382818debe60b6b">ContainsFile</a> (AZ::IO::PathView relativePath) const override</td></tr>
<tr class="separator:ab636fd529043f8416382818debe60b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f8940a78014671629713cb417d7ba1" id="r_a51f8940a78014671629713cb417d7ba1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_archive_1_1_archive_remove_file_result.html">ArchiveRemoveFileResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51f8940a78014671629713cb417d7ba1">RemoveFileFromArchive</a> (ArchiveFileToken filePathToken) override</td></tr>
<tr class="separator:a51f8940a78014671629713cb417d7ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1fa8b640ac355eb3f23d62a9bca5638" id="r_ae1fa8b640ac355eb3f23d62a9bca5638"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_archive_1_1_archive_remove_file_result.html">ArchiveRemoveFileResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1fa8b640ac355eb3f23d62a9bca5638">RemoveFileFromArchive</a> (AZ::IO::PathView relativePath) override</td></tr>
<tr class="separator:ae1fa8b640ac355eb3f23d62a9bca5638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332098059828b13fa824e52208bd3591" id="r_a332098059828b13fa824e52208bd3591"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a332098059828b13fa824e52208bd3591">DumpArchiveMetadata</a> (AZ::IO::GenericStream &amp;metadataStream, const <a class="el" href="struct_archive_1_1_archive_metadata_settings.html">ArchiveMetadataSettings</a> &amp;metadataSettings={}) const override</td></tr>
<tr class="separator:a332098059828b13fa824e52208bd3591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_archive_1_1_i_archive_writer"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_archive_1_1_i_archive_writer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_archive_1_1_i_archive_writer.html">Archive::IArchiveWriter</a></td></tr>
<tr class="memitem:a6c37197fa6801feef69a30cbff415f59 inherit pub_methods_class_archive_1_1_i_archive_writer" id="r_a6c37197fa6801feef69a30cbff415f59"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_TYPE_INFO_WITH_NAME_DECL</b> (<a class="el" href="class_archive_1_1_i_archive_writer.html">IArchiveWriter</a>)</td></tr>
<tr class="separator:a6c37197fa6801feef69a30cbff415f59 inherit pub_methods_class_archive_1_1_i_archive_writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc33ad38fab13e217271926e6c345597 inherit pub_methods_class_archive_1_1_i_archive_writer" id="r_acc33ad38fab13e217271926e6c345597"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_RTTI_NO_TYPE_INFO_DECL</b> ()</td></tr>
<tr class="separator:acc33ad38fab13e217271926e6c345597 inherit pub_methods_class_archive_1_1_i_archive_writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aab660fafb863eb345833c78d1e26eb50" id="r_aab660fafb863eb345833c78d1e26eb50"><td class="memItemLeft" align="right" valign="top"><a id="aab660fafb863eb345833c78d1e26eb50" name="aab660fafb863eb345833c78d1e26eb50"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR_DECL</b></td></tr>
<tr class="separator:aab660fafb863eb345833c78d1e26eb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_class_archive_1_1_i_archive_writer"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_class_archive_1_1_i_archive_writer')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_archive_1_1_i_archive_writer.html">Archive::IArchiveWriter</a></td></tr>
<tr class="memitem:ae3304217cbc75865e32d62cda2dfcd77 inherit pub_attribs_class_archive_1_1_i_archive_writer" id="r_ae3304217cbc75865e32d62cda2dfcd77"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR_DECL</b></td></tr>
<tr class="separator:ae3304217cbc75865e32d62cda2dfcd77 inherit pub_attribs_class_archive_1_1_i_archive_writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class which is used to write into a stream the O3DE Archive format The caller is required to supply a <a class="el" href="struct_archive_1_1_archive_writer_settings.html">ArchiveWriterSettings</a> structure which contains the <a class="el" href="struct_archive_1_1_archive_header.html">ArchiveHeader</a> and <a class="el" href="struct_archive_1_1_archive_table_of_contents.html">ArchiveTableOfContents</a> data to use when writing to the Archive file The class can be initialized with a user supplied AZ::IO::GenericStream class in which case it should be open in stream should needs to be open with OpenMode::ModeUpdate The reason why is that to locate information about any content files in order to update an existing archive it read access is needed The recommend OpenMode value for opening a new archive or updating an existing archive are as follows constexpr OpenMode mode = OpenMode::Update | OpenMode::Append | OpenMode::Binary The Append option makes sure that the Archive is not truncated on open </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ad85f067ac2d8e13733ff19eb47b90ae5" name="ad85f067ac2d8e13733ff19eb47b90ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad85f067ac2d8e13733ff19eb47b90ae5">&#9670;&#160;</a></span>CommitResult</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ad85f067ac2d8e13733ff19eb47b90ae5">Archive::ArchiveWriter::CommitResult</a> = AZStd::expected&lt;void, ResultString&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the updated <a class="el" href="struct_archive_1_1_archive_header.html">ArchiveHeader</a> to the beginning of the stream and Table of Contents to end of the stream</p>
<p>If this call is successful, the archive TOC has been successfully written This function has been marked [[nodiscard]], to ensure the caller checks the return value </p><dl class="section return"><dt>Returns</dt><dd>A successful expectation if the TOC has been written </dd></dl>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0284c15f9ab14a8fc77de8656e2224a6" name="a0284c15f9ab14a8fc77de8656e2224a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0284c15f9ab14a8fc77de8656e2224a6">&#9670;&#160;</a></span>ArchiveWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Archive::ArchiveWriter::ArchiveWriter </td>
          <td>(</td>
          <td class="paramtype">AZ::IO::PathView</td>          <td class="paramname"><span class="paramname"><em>archivePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_archive_1_1_archive_writer_settings.html">ArchiveWriterSettings</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>writerSettings</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open an file at the specified file path and takes sole ownership of it The <a class="el" href="class_archive_1_1_archive_writer.html">ArchiveWriter</a> will close the file on Unmount </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad0138a47b15bd4faa24434dafc7f662d" name="ad0138a47b15bd4faa24434dafc7f662d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0138a47b15bd4faa24434dafc7f662d">&#9670;&#160;</a></span>AddFileToArchive() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_archive_1_1_archive_add_file_result.html">ArchiveAddFileResult</a> Archive::ArchiveWriter::AddFileToArchive </td>
          <td>(</td>
          <td class="paramtype">AZ::IO::GenericStream &amp;</td>          <td class="paramname"><span class="paramname"><em>inputStream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_archive_1_1_archive_writer_file_settings.html">ArchiveWriterFileSettings</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>fileSettings</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds the content from the stream to the relative path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputStream</td><td>stream class where data for the file is source from The entire stream is read into the memory and written into archive </td></tr>
    <tr><td class="paramname">fileSettings</td><td>settings used to configure the relative path to write to the archive for the given file data. It also allows users to configure the compression algorithm to use, and whether the AddFileToArchive logic fails if an existing file is being added </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_archive_1_1_archive_add_file_result.html">ArchiveAddFileResult</a> containing the actual compression file path as saved to the Archive TOC, the compression algorithm used and an Archive File Token which can be used to remove the file if need be On failure, the result outcome contains any errors that have occurred </dd></dl>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#a74dbf91069f5a05aea786a4ecc30101a">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="ab969236650cc0c2831e599012a1a3316" name="ab969236650cc0c2831e599012a1a3316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab969236650cc0c2831e599012a1a3316">&#9670;&#160;</a></span>AddFileToArchive() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_archive_1_1_archive_add_file_result.html">ArchiveAddFileResult</a> Archive::ArchiveWriter::AddFileToArchive </td>
          <td>(</td>
          <td class="paramtype">AZStd::span&lt; const AZStd::byte &gt;</td>          <td class="paramname"><span class="paramname"><em>inputSpan</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_archive_1_1_archive_writer_file_settings.html">ArchiveWriterFileSettings</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>fileSettings</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Use the span contents to add the file to the archive </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputSpan</td><td>view of data which will be written to the archive at the relative path supplied in the @fileSettings parameter </td></tr>
    <tr><td class="paramname">fileSettings</td><td>settings used to configure the relative path to write to the archive for the given file data. It also allows users to configure the compression algorithm to use, and whether the AddFileToArchive logic fails if an existing file is being added </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_archive_1_1_archive_add_file_result.html">ArchiveAddFileResult</a> containing the actual compression file path as saved to the Archive TOC, the compression algorithm used and an Archive File Token which can be used to remove the file if need be On failure, the result outcome contains any errors that have occurred </dd></dl>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#af6f1de7195a336912905e6c6dd89774a">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="ad9e743d644acb6f4a2c4cf2abdd80719" name="ad9e743d644acb6f4a2c4cf2abdd80719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9e743d644acb6f4a2c4cf2abdd80719">&#9670;&#160;</a></span>Commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ad85f067ac2d8e13733ff19eb47b90ae5">CommitResult</a> Archive::ArchiveWriter::Commit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="ab636fd529043f8416382818debe60b6b" name="ab636fd529043f8416382818debe60b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab636fd529043f8416382818debe60b6b">&#9670;&#160;</a></span>ContainsFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Archive::ArchiveWriter::ContainsFile </td>
          <td>(</td>
          <td class="paramtype">AZ::IO::PathView</td>          <td class="paramname"><span class="paramname"><em>relativePath</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns if the archive contains a relative path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">relativePath</td><td>Relative path within archive to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the relative path is contained with the Archive equivalent to <code>return FindFile(relativePath) != InvalidArchiveFileToken;</code> </dd></dl>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#a8829b197b966de03ef08ea5906fdde14">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="a332098059828b13fa824e52208bd3591" name="a332098059828b13fa824e52208bd3591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a332098059828b13fa824e52208bd3591">&#9670;&#160;</a></span>DumpArchiveMetadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Archive::ArchiveWriter::DumpArchiveMetadata </td>
          <td>(</td>
          <td class="paramtype">AZ::IO::GenericStream &amp;</td>          <td class="paramname"><span class="paramname"><em>metadataStream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_archive_1_1_archive_metadata_settings.html">ArchiveMetadataSettings</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>metadataSettings</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dump metadata for the archive to the supplied generic stream </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadataStream</td><td>archive file metadata will be written to the stream </td></tr>
    <tr><td class="paramname">metadataSettings</td><td>settings using which control the file metadata to write to the stream </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if metadata was successfully written </dd></dl>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#a24b79ace32a190f69021800e869b6ab4">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="a382b4cfc32ba8ad680020020e560e10c" name="a382b4cfc32ba8ad680020020e560e10c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382b4cfc32ba8ad680020020e560e10c">&#9670;&#160;</a></span>FindFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ArchiveFileToken Archive::ArchiveWriter::FindFile </td>
          <td>(</td>
          <td class="paramtype">AZ::IO::PathView</td>          <td class="paramname"><span class="paramname"><em>relativePath</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Searches for a relative path within the archive </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">relativePath</td><td>Relative path within archive to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A token that identifies the Archive file if it exist if the with the specified path doesn't exist InvalidArchiveFileToken is returned </dd></dl>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#a97068ae798f8f697dfa2b35f26979acb">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="adfa1d4be3a673e74f700050a1ce51b7c" name="adfa1d4be3a673e74f700050a1ce51b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa1d4be3a673e74f700050a1ce51b7c">&#9670;&#160;</a></span>IsMounted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Archive::ArchiveWriter::IsMounted </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if an open archive that is mounted. </p>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#ade8a56a30aef8781686a1ea1f8eae243">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="a12bf21bbd42e778a4e9b4696ed13b240" name="a12bf21bbd42e778a4e9b4696ed13b240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12bf21bbd42e778a4e9b4696ed13b240">&#9670;&#160;</a></span>MountArchive() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Archive::ArchiveWriter::MountArchive </td>
          <td>(</td>
          <td class="paramtype">ArchiveStreamPtr</td>          <td class="paramname"><span class="paramname"><em>archiveStream</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="ab07dca2bbaad94db00a75411fe66f6ab" name="ab07dca2bbaad94db00a75411fe66f6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab07dca2bbaad94db00a75411fe66f6ab">&#9670;&#160;</a></span>MountArchive() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Archive::ArchiveWriter::MountArchive </td>
          <td>(</td>
          <td class="paramtype">AZ::IO::PathView</td>          <td class="paramname"><span class="paramname"><em>archivePath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens the archive path and returns true if successful Will unmount any previously mounted archive </p>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#ac4183bac9cb061da0261ca030e13f138">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="a51f8940a78014671629713cb417d7ba1" name="a51f8940a78014671629713cb417d7ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51f8940a78014671629713cb417d7ba1">&#9670;&#160;</a></span>RemoveFileFromArchive() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_archive_1_1_archive_remove_file_result.html">ArchiveRemoveFileResult</a> Archive::ArchiveWriter::RemoveFileFromArchive </td>
          <td>(</td>
          <td class="paramtype">ArchiveFileToken</td>          <td class="paramname"><span class="paramname"><em>filePathToken</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes the file from the archive using the ArchiveFileToken </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filePathToken</td><td>Identifier queried using FindFile or AddFileToArchive NOTE: The entry in the table of contents is not actually removed The index where the file is located using the filePathToken is just added to the removed file indices set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ArchiveRemoveResult with metadata about how the deleted file was stored in the Archive </dd></dl>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#affddcc2f58bea7fc3f8e6f352d85cb68">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="ae1fa8b640ac355eb3f23d62a9bca5638" name="ae1fa8b640ac355eb3f23d62a9bca5638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1fa8b640ac355eb3f23d62a9bca5638">&#9670;&#160;</a></span>RemoveFileFromArchive() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_archive_1_1_archive_remove_file_result.html">ArchiveRemoveFileResult</a> Archive::ArchiveWriter::RemoveFileFromArchive </td>
          <td>(</td>
          <td class="paramtype">AZ::IO::PathView</td>          <td class="paramname"><span class="paramname"><em>relativePath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes the file from the archive using a relative path name </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">relativePath</td><td>relative path within archive to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ArchiveRemoveResult with metadata about how the deleted file was stored in the Archive </dd></dl>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#ae4c04b27aaf52d4251043b47b959a834">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<a id="af93204e2757e7382681f7183c5a4cb19" name="af93204e2757e7382681f7183c5a4cb19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af93204e2757e7382681f7183c5a4cb19">&#9670;&#160;</a></span>UnmountArchive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Archive::ArchiveWriter::UnmountArchive </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Closes the handle to the mounted archive stream This will invoke the Commit() function to write the archive TOC to the stream before closing the stream </p>

<p>Implements <a class="el" href="class_archive_1_1_i_archive_writer.html#a30f58c02ad20883eaa88bcc06a562b67">Archive::IArchiveWriter</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Archive/Code/Source/Tools/<b>ArchiveWriter.h</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Archive</b></li><li class="navelem"><a class="el" href="class_archive_1_1_archive_writer.html">ArchiveWriter</a></li>
    <li class="footer">Generated on Mon Oct 7 2024 17:14:48 for Open 3D Engine Archive Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
