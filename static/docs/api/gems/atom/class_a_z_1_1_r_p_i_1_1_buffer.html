<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Atom Gem API Reference: AZ::RPI::Buffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="/images/api-reference/api-ref-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine Atom Gem API Reference
   &#160;<span id="projectnumber">22.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RPI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html">Buffer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_a_z_1_1_r_p_i_1_1_buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AZ::RPI::Buffer Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Inherits InstanceData.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad983cc21de1f6954332e02572631c01e"><td class="memItemLeft" align="right" valign="top"><a id="ad983cc21de1f6954332e02572631c01e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_INSTANCE_DATA</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html">Buffer</a>, &quot;{389B818E-136A-44A4-8B6C-4766C0DDB644}&quot;)</td></tr>
<tr class="separator:ad983cc21de1f6954332e02572631c01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f803cf4ff4c6336292de36ddddc3ddc"><td class="memItemLeft" align="right" valign="top"><a id="a8f803cf4ff4c6336292de36ddddc3ddc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html">Buffer</a>, AZ::SystemAllocator, 0)</td></tr>
<tr class="separator:a8f803cf4ff4c6336292de36ddddc3ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa126f04cdea4d5532ec8e6737030cbe"><td class="memItemLeft" align="right" valign="top"><a id="aaa126f04cdea4d5532ec8e6737030cbe"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#aaa126f04cdea4d5532ec8e6737030cbe">WaitForUpload</a> ()</td></tr>
<tr class="memdesc:aaa126f04cdea4d5532ec8e6737030cbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until a streaming upload has completed (if one is currently in flight). <br /></td></tr>
<tr class="separator:aaa126f04cdea4d5532ec8e6737030cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1812bd8f128ed2aee9576ee56dee182"><td class="memItemLeft" align="right" valign="top"><a id="ab1812bd8f128ed2aee9576ee56dee182"></a>
<a class="el" href="class_a_z_1_1_r_h_i_1_1_buffer.html">RHI::Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetRHIBuffer</b> ()</td></tr>
<tr class="separator:ab1812bd8f128ed2aee9576ee56dee182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af575118952488e073ce8bf76a35cfa37"><td class="memItemLeft" align="right" valign="top"><a id="af575118952488e073ce8bf76a35cfa37"></a>
const <a class="el" href="class_a_z_1_1_r_h_i_1_1_buffer.html">RHI::Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetRHIBuffer</b> () const</td></tr>
<tr class="separator:af575118952488e073ce8bf76a35cfa37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b5696d0e6bdd318b8a46cc02957fe1"><td class="memItemLeft" align="right" valign="top"><a id="a47b5696d0e6bdd318b8a46cc02957fe1"></a>
const <a class="el" href="class_a_z_1_1_r_h_i_1_1_buffer_view.html">RHI::BufferView</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetBufferView</b> () const</td></tr>
<tr class="separator:a47b5696d0e6bdd318b8a46cc02957fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc42da4f6d9ff5cc6a97c05887fdab0b"><td class="memItemLeft" align="right" valign="top"><a id="adc42da4f6d9ff5cc6a97c05887fdab0b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#adc42da4f6d9ff5cc6a97c05887fdab0b">UpdateData</a> (const void *sourceData, uint64_t sourceDataSizeInBytes, uint64_t bufferByteOffset=0)</td></tr>
<tr class="memdesc:adc42da4f6d9ff5cc6a97c05887fdab0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update buffer's content with sourceData at an offset of bufferByteOffset. <br /></td></tr>
<tr class="separator:adc42da4f6d9ff5cc6a97c05887fdab0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaebd44a321b1372b1d11fe79abc37df0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#aaebd44a321b1372b1d11fe79abc37df0">Orphan</a> ()</td></tr>
<tr class="separator:aaebd44a321b1372b1d11fe79abc37df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c4ced0a04c7daebc71da8ac130f93e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#ab9c4ced0a04c7daebc71da8ac130f93e">OrphanAndUpdateData</a> (const void *sourceData, uint64_t sourceDataSizeInBytes)</td></tr>
<tr class="separator:ab9c4ced0a04c7daebc71da8ac130f93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14040c238eb0dab52d251310628a8f3"><td class="memItemLeft" align="right" valign="top"><a id="ab14040c238eb0dab52d251310628a8f3"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>Map</b> (size_t byteCount, uint64_t byteOffset)</td></tr>
<tr class="separator:ab14040c238eb0dab52d251310628a8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae991662b47089069b000e2639f8b75d9"><td class="memItemLeft" align="right" valign="top"><a id="ae991662b47089069b000e2639f8b75d9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Unmap</b> ()</td></tr>
<tr class="separator:ae991662b47089069b000e2639f8b75d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f47779e88d73cc7d75028b49c491325"><td class="memItemLeft" align="right" valign="top"><a id="a3f47779e88d73cc7d75028b49c491325"></a>
const RHI::AttachmentId &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#a3f47779e88d73cc7d75028b49c491325">GetAttachmentId</a> () const</td></tr>
<tr class="memdesc:a3f47779e88d73cc7d75028b49c491325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get attachment id if this buffer is used as scope attachment. <br /></td></tr>
<tr class="separator:a3f47779e88d73cc7d75028b49c491325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9830fb3df7e9f89c60d0cbb592ee66ad"><td class="memTemplParams" colspan="2"><a id="a9830fb3df7e9f89c60d0cbb592ee66ad"></a>
template&lt;class structureType &gt; </td></tr>
<tr class="memitem:a9830fb3df7e9f89c60d0cbb592ee66ad"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#a9830fb3df7e9f89c60d0cbb592ee66ad">SetAsStructured</a> ()</td></tr>
<tr class="memdesc:a9830fb3df7e9f89c60d0cbb592ee66ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default buffer view descriptor with specific structure. <br /></td></tr>
<tr class="separator:a9830fb3df7e9f89c60d0cbb592ee66ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae780a9c0a386c13681f614d3a1859733"><td class="memItemLeft" align="right" valign="top"><a id="ae780a9c0a386c13681f614d3a1859733"></a>
const <a class="el" href="struct_a_z_1_1_r_h_i_1_1_buffer_view_descriptor.html">RHI::BufferViewDescriptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#ae780a9c0a386c13681f614d3a1859733">GetBufferViewDescriptor</a> () const</td></tr>
<tr class="memdesc:ae780a9c0a386c13681f614d3a1859733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get view descriptor of this buffer. <br /></td></tr>
<tr class="separator:ae780a9c0a386c13681f614d3a1859733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6bfe23985c1ed136c9c99c6a71642db"><td class="memItemLeft" align="right" valign="top"><a id="ad6bfe23985c1ed136c9c99c6a71642db"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#ad6bfe23985c1ed136c9c99c6a71642db">GetBufferSize</a> () const</td></tr>
<tr class="memdesc:ad6bfe23985c1ed136c9c99c6a71642db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get buffer size in bytes. <br /></td></tr>
<tr class="separator:ad6bfe23985c1ed136c9c99c6a71642db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9917a540d9ccbabef758d40fd20343"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#a7a9917a540d9ccbabef758d40fd20343">Resize</a> (uint64_t bufferSize)</td></tr>
<tr class="separator:a7a9917a540d9ccbabef758d40fd20343"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a16a766800901489e4a668b7a756d939c"><td class="memItemLeft" align="right" valign="top"><a id="a16a766800901489e4a668b7a756d939c"></a>
static Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html">Buffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html#a16a766800901489e4a668b7a756d939c">FindOrCreate</a> (const <a class="el" href="class_a_z_1_1_data_1_1_asset.html">Data::Asset</a>&lt; <a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer_asset.html">BufferAsset</a> &gt; &amp;bufferAsset)</td></tr>
<tr class="memdesc:a16a766800901489e4a668b7a756d939c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates or returns an existing buffer instance using its paired asset. <br /></td></tr>
<tr class="separator:a16a766800901489e4a668b7a756d939c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2cd90cd4eafac866d4cc8f3160108685"><td class="memItemLeft" align="right" valign="top"><a id="a2cd90cd4eafac866d4cc8f3160108685"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>BufferSystem</b></td></tr>
<tr class="separator:a2cd90cd4eafac866d4cc8f3160108685"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaebd44a321b1372b1d11fe79abc37df0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaebd44a321b1372b1d11fe79abc37df0">&#9670;&nbsp;</a></span>Orphan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::RPI::Buffer::Orphan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reallocate a new block of memory for this buffer. The previous allocated memory will be discarded once the GPU is done using it. This only works for buffers with host heap memory level. </p>

</div>
</div>
<a id="ab9c4ced0a04c7daebc71da8ac130f93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c4ced0a04c7daebc71da8ac130f93e">&#9670;&nbsp;</a></span>OrphanAndUpdateData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::RPI::Buffer::OrphanAndUpdateData </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>sourceData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sourceDataSizeInBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Orphan the buffer then update the buffer's content with input sourceData This function is only used for buffer created in host such as dynamic buffer which content is rewritten every frame </p>

</div>
</div>
<a id="a7a9917a540d9ccbabef758d40fd20343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a9917a540d9ccbabef758d40fd20343">&#9670;&nbsp;</a></span>Resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RPI::Buffer::Resize </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>bufferSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resize the current buffer. The data in the buffer won't be kept The buffer view descriptor and buffer view will be updated accordingly </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Atom/RPI/Code/Include/Atom/RPI.Public/Buffer/Buffer.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 5 2022 14:05:21 for Open 3D Engine Atom Gem API Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
