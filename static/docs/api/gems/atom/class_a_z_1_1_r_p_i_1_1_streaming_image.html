<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Atom Gem API Reference: AZ::RPI::StreamingImage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="/images/api-reference/api-ref-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine Atom Gem API Reference
   &#160;<span id="projectnumber">22.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RPI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_a_z_1_1_r_p_i_1_1_streaming_image-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AZ::RPI::StreamingImage Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;StreamingImage.h&gt;</code></p>

<p>Inherits <a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html">AZ::RPI::Image</a>, and MultiHandler.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac0f9c77429d35b4aadc9558b193fb5db"><td class="memItemLeft" align="right" valign="top"><a id="ac0f9c77429d35b4aadc9558b193fb5db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_INSTANCE_DATA</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a>, &quot;{E48A7FF0-3065-42C6-9673-4FE7C8905629}&quot;, Image)</td></tr>
<tr class="separator:ac0f9c77429d35b4aadc9558b193fb5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9deec4138b9666b46a062285ff8173"><td class="memItemLeft" align="right" valign="top"><a id="a3f9deec4138b9666b46a062285ff8173"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a>, SystemAllocator, 0)</td></tr>
<tr class="separator:a3f9deec4138b9666b46a062285ff8173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467aa5a5bbabfe895127f59819f47d75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a467aa5a5bbabfe895127f59819f47d75">SetTargetMip</a> (uint16_t targetMipLevel)</td></tr>
<tr class="separator:a467aa5a5bbabfe895127f59819f47d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89dc867ab07e89d59f133d2a08b02ee"><td class="memItemLeft" align="right" valign="top"><a id="ac89dc867ab07e89d59f133d2a08b02ee"></a>
const Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image_pool.html">StreamingImagePool</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetPool</b> () const</td></tr>
<tr class="separator:ac89dc867ab07e89d59f133d2a08b02ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a8ca91738e64ee49d4eefac142ec22"><td class="memItemLeft" align="right" valign="top"><a id="ae1a8ca91738e64ee49d4eefac142ec22"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#ae1a8ca91738e64ee49d4eefac142ec22">IsStreamable</a> () const</td></tr>
<tr class="memdesc:ae1a8ca91738e64ee49d4eefac142ec22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the streaming image is allowed to evict or expand mip chains. <br /></td></tr>
<tr class="separator:ae1a8ca91738e64ee49d4eefac142ec22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e5178cb7940a733f5bd590774928d4"><td class="memItemLeft" align="right" valign="top">RHI::ResultCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a44e5178cb7940a733f5bd590774928d4">TrimToMipChainLevel</a> (size_t mipChainLevel)</td></tr>
<tr class="separator:a44e5178cb7940a733f5bd590774928d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a18a3c8098f1869e53ab34de564219"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a54a18a3c8098f1869e53ab34de564219">QueueExpandToMipChainLevel</a> (size_t mipChainLevel)</td></tr>
<tr class="separator:a54a18a3c8098f1869e53ab34de564219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2baf8e36101d2f9131c4ef3b785c69ea"><td class="memItemLeft" align="right" valign="top"><a id="a2baf8e36101d2f9131c4ef3b785c69ea"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a2baf8e36101d2f9131c4ef3b785c69ea">QueueExpandToNextMipChainLevel</a> ()</td></tr>
<tr class="memdesc:a2baf8e36101d2f9131c4ef3b785c69ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues an expansion to the mip chain that is one level higher than the resident mip chain. <br /></td></tr>
<tr class="separator:a2baf8e36101d2f9131c4ef3b785c69ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9b81f468a8c5a4e97838daf531a927"><td class="memItemLeft" align="right" valign="top">RHI::ResultCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a6e9b81f468a8c5a4e97838daf531a927">ExpandMipChain</a> ()</td></tr>
<tr class="separator:a6e9b81f468a8c5a4e97838daf531a927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df6c7f149a384ae9adc1b870d4ac96a"><td class="memItemLeft" align="right" valign="top"><a id="a5df6c7f149a384ae9adc1b870d4ac96a"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a5df6c7f149a384ae9adc1b870d4ac96a">GetResidentMipLevel</a> ()</td></tr>
<tr class="memdesc:a5df6c7f149a384ae9adc1b870d4ac96a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most detailed mip level currently resident in memory, where a value of 0 is the highest detailed mip. <br /></td></tr>
<tr class="separator:a5df6c7f149a384ae9adc1b870d4ac96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51537ab7ae696540b92225445e06909e"><td class="memItemLeft" align="right" valign="top"><a id="a51537ab7ae696540b92225445e06909e"></a>
Color&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a51537ab7ae696540b92225445e06909e">GetAverageColor</a> () const</td></tr>
<tr class="memdesc:a51537ab7ae696540b92225445e06909e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the average color of this image (alpha-weighted in case of 4-component images). <br /></td></tr>
<tr class="separator:a51537ab7ae696540b92225445e06909e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_a_z_1_1_r_p_i_1_1_image')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html">AZ::RPI::Image</a></td></tr>
<tr class="memitem:a6293501a5e915d48e6573caf1dc69b03 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="a6293501a5e915d48e6573caf1dc69b03"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_INSTANCE_DATA</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html">Image</a>, &quot;{4E4B1092-1BEE-4DC4-BE4B-8FBC83B0F48C}&quot;)</td></tr>
<tr class="separator:a6293501a5e915d48e6573caf1dc69b03 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af929d2bb4546e22a9563bf5c830b336e inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="af929d2bb4546e22a9563bf5c830b336e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html">Image</a>, AZ::SystemAllocator, 0)</td></tr>
<tr class="separator:af929d2bb4546e22a9563bf5c830b336e inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873e6392328c814d1911ba4a596951cd inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="a873e6392328c814d1911ba4a596951cd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html#a873e6392328c814d1911ba4a596951cd">IsInitialized</a> () const</td></tr>
<tr class="memdesc:a873e6392328c814d1911ba4a596951cd inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether <a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html" title="A base class for images providing access to common image information.">Image</a> is currently initialized. <br /></td></tr>
<tr class="separator:a873e6392328c814d1911ba4a596951cd inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade71d54f036bf55dfc0784b91b0d0364 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="ade71d54f036bf55dfc0784b91b0d0364"></a>
<a class="el" href="class_a_z_1_1_r_h_i_1_1_image.html">RHI::Image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html#ade71d54f036bf55dfc0784b91b0d0364">GetRHIImage</a> ()</td></tr>
<tr class="memdesc:ade71d54f036bf55dfc0784b91b0d0364 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the mutable GPU image instance initialized at asset load time. <br /></td></tr>
<tr class="separator:ade71d54f036bf55dfc0784b91b0d0364 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c47cdca5d4f562ee49fed83c6dfdba7 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="a9c47cdca5d4f562ee49fed83c6dfdba7"></a>
const <a class="el" href="class_a_z_1_1_r_h_i_1_1_image.html">RHI::Image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html#a9c47cdca5d4f562ee49fed83c6dfdba7">GetRHIImage</a> () const</td></tr>
<tr class="memdesc:a9c47cdca5d4f562ee49fed83c6dfdba7 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the immutable GPU image instance initialized at asset load time. <br /></td></tr>
<tr class="separator:a9c47cdca5d4f562ee49fed83c6dfdba7 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b613f695fad45837e6241dba73ad406 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="a9b613f695fad45837e6241dba73ad406"></a>
const <a class="el" href="class_a_z_1_1_r_h_i_1_1_image_view.html">RHI::ImageView</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html#a9b613f695fad45837e6241dba73ad406">GetImageView</a> () const</td></tr>
<tr class="memdesc:a9b613f695fad45837e6241dba73ad406 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default image view instance, mapping the full (resident) image. <br /></td></tr>
<tr class="separator:a9b613f695fad45837e6241dba73ad406 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa480fd4282c405dc041b30713f6a4ae8 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="aa480fd4282c405dc041b30713f6a4ae8"></a>
const <a class="el" href="struct_a_z_1_1_r_h_i_1_1_image_descriptor.html">RHI::ImageDescriptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html#aa480fd4282c405dc041b30713f6a4ae8">GetDescriptor</a> () const</td></tr>
<tr class="memdesc:aa480fd4282c405dc041b30713f6a4ae8 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the image descriptor which contains some image information. <br /></td></tr>
<tr class="separator:aa480fd4282c405dc041b30713f6a4ae8 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9129546bed9356000c98f9f8c143332 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="af9129546bed9356000c98f9f8c143332"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html#af9129546bed9356000c98f9f8c143332">GetMipLevelCount</a> ()</td></tr>
<tr class="memdesc:af9129546bed9356000c98f9f8c143332 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of mip levels of this image. <br /></td></tr>
<tr class="separator:af9129546bed9356000c98f9f8c143332 inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a3d6ca00e6cc5d861cf9c98c111c1f inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="af7a3d6ca00e6cc5d861cf9c98c111c1f"></a>
virtual RHI::ResultCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html#af7a3d6ca00e6cc5d861cf9c98c111c1f">UpdateImageContents</a> (const <a class="el" href="struct_a_z_1_1_r_h_i_1_1_image_update_request.html">RHI::ImageUpdateRequest</a> &amp;request)</td></tr>
<tr class="memdesc:af7a3d6ca00e6cc5d861cf9c98c111c1f inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates content of a single sub-resource in the image from the CPU. <br /></td></tr>
<tr class="separator:af7a3d6ca00e6cc5d861cf9c98c111c1f inherit pub_methods_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0ca6e98c15a92c386cbdda9494ca47ce"><td class="memItemLeft" align="right" valign="top"><a id="a0ca6e98c15a92c386cbdda9494ca47ce"></a>
static Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a0ca6e98c15a92c386cbdda9494ca47ce">FindOrCreate</a> (const <a class="el" href="class_a_z_1_1_data_1_1_asset.html">Data::Asset</a>&lt; <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image_asset.html">StreamingImageAsset</a> &gt; &amp;streamingImageAsset)</td></tr>
<tr class="memdesc:a0ca6e98c15a92c386cbdda9494ca47ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates or returns an existing streaming image instance using its paired asset. <br /></td></tr>
<tr class="separator:a0ca6e98c15a92c386cbdda9494ca47ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045519d2c567a2a822bc1e828f13fc66"><td class="memItemLeft" align="right" valign="top"><a id="a045519d2c567a2a822bc1e828f13fc66"></a>
static Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html#a045519d2c567a2a822bc1e828f13fc66">CreateFromCpuData</a> (const <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image_pool.html">StreamingImagePool</a> &amp;streamingImagePool, RHI::ImageDimension imageDimension, <a class="el" href="struct_a_z_1_1_r_h_i_1_1_size.html">RHI::Size</a> imageSize, RHI::Format imageFormat, const void *imageData, size_t imageDataSize, Uuid id=Uuid::CreateRandom())</td></tr>
<tr class="memdesc:a045519d2c567a2a822bc1e828f13fc66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to instantiate a single-mip, single array streaming image from CPU data. <br /></td></tr>
<tr class="separator:a045519d2c567a2a822bc1e828f13fc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a3278a2cdbf9ef83cfb1ad97b33d58a56"><td class="memItemLeft" align="right" valign="top"><a id="a3278a2cdbf9ef83cfb1ad97b33d58a56"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>ImageSystem</b></td></tr>
<tr class="separator:a3278a2cdbf9ef83cfb1ad97b33d58a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7f26a3bded583ac3f29eafc063530e"><td class="memItemLeft" align="right" valign="top"><a id="a8d7f26a3bded583ac3f29eafc063530e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>StreamingImageController</b></td></tr>
<tr class="separator:a8d7f26a3bded583ac3f29eafc063530e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_a_z_1_1_r_p_i_1_1_image"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_a_z_1_1_r_p_i_1_1_image')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_a_z_1_1_r_p_i_1_1_image.html">AZ::RPI::Image</a></td></tr>
<tr class="memitem:a42d60b38cfe0dce5a483678dd16f7b42 inherit pro_attribs_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="a42d60b38cfe0dce5a483678dd16f7b42"></a>
RHI::Ptr&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_image.html">RHI::Image</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_image</b></td></tr>
<tr class="separator:a42d60b38cfe0dce5a483678dd16f7b42 inherit pro_attribs_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e367abe015e5fffc0e962d2cc4ed209 inherit pro_attribs_class_a_z_1_1_r_p_i_1_1_image"><td class="memItemLeft" align="right" valign="top"><a id="a8e367abe015e5fffc0e962d2cc4ed209"></a>
RHI::Ptr&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_image_view.html">RHI::ImageView</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_imageView</b></td></tr>
<tr class="separator:a8e367abe015e5fffc0e962d2cc4ed209 inherit pro_attribs_class_a_z_1_1_r_p_i_1_1_image"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A runtime streaming image, containing GPU data and streaming state. <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a> is the runtime instance of a <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image_asset.html">StreamingImageAsset</a>. Both are immutable (on GPU and CPU, respectively), and thus should remain 1-to-1. <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a> connects to its parent pool and parent streaming controller. The pool provides the allocation context for the RHI image. The controller provides the logic for streaming events based on priority and budget.</p>
<p>USAGE: To use a <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a> instance, you must declare usage of a desired target mip level. This is done <em>every</em> frame by calling SetTargetMip. This call is made when evaluating visibility of a parent surface in a feature processor, so that the proper mip level is chosen. Not calling SetTargetMip effectively tells the controller that the image was not used this cycle, making it a candidate for eviction.</p>
<p>STREAMING CONTROLLER USAGE: <a class="el" href="class_a_z_1_1_r_p_i_1_1_streaming_image.html">StreamingImage</a> exposes an internal API to the streaming controller. Its the <em>sole</em> responsibility of the controller to fetch and evict mip chains from the streaming image, as this is the only system with enough context to budget properly.</p>
<p>Streaming works like a cache hierarchy. The GPU is the final 'L0' cache, the CPU is the 'L1' cache, and the disk is 'L2'. The GPU image allocation grows or shrinks to fit a target mip level. When expanding the image, the controller fetches mips from disk, using 'QueueExpandToMipChainLevel'. This establishes a connection with the asset system, which begins asynchronously streaming content from disk. When content arrives in CPU memory, the image queues itself on the controller for expansion. The expansion operation is done at a specific time in the streaming phase of the controller, in order to make uploads deterministic.</p>
<p>A trim operation will immediately trim the GPU image down and cancel any in-flight mip chain fetches. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e9b81f468a8c5a4e97838daf531a927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9b81f468a8c5a4e97838daf531a927">&#9670;&nbsp;</a></span>ExpandMipChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RHI::ResultCode AZ::RPI::StreamingImage::ExpandMipChain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs the GPU mip chain expansion for any contiguous range of ready mip chain assets. Returns the result of the RHI pool residency update. If no new mip chains are available, this will no-op and return success. </p>

</div>
</div>
<a id="a54a18a3c8098f1869e53ab34de564219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a18a3c8098f1869e53ab34de564219">&#9670;&nbsp;</a></span>QueueExpandToMipChainLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RPI::StreamingImage::QueueExpandToMipChainLevel </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mipChainLevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queues an expansion operation which fetches mip chain assets from disk. Each time a contiguous range of mip chains is ready, an expansion is queued on the parent controller. </p>

</div>
</div>
<a id="a467aa5a5bbabfe895127f59819f47d75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467aa5a5bbabfe895127f59819f47d75">&#9670;&nbsp;</a></span>SetTargetMip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RPI::StreamingImage::SetTargetMip </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>targetMipLevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests that image mips be made available for use by the streaming controller. This method should be called each frame with updated information based on visibility, etc. <em>Not</em> calling this method within a frame effectively tells the streaming controller that the image is not being used, and is a candidate for eviction. The streaming controller will prioritize attempt to service the request as quickly as possible. It is safe to call this method multiple times, and from multiple threads. The controller will track the most detailed request.</p>
<p>A value of 0 is the most detailed mip level. The value is clamped to the last mip in the chain. </p>

</div>
</div>
<a id="a44e5178cb7940a733f5bd590774928d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e5178cb7940a733f5bd590774928d4">&#9670;&nbsp;</a></span>TrimToMipChainLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RHI::ResultCode AZ::RPI::StreamingImage::TrimToMipChainLevel </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mipChainLevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trims the image to (and including) the requested mip chain index. Mip chains of higher detail than the requested mip chain are evicted from the GPU and any in-flight fetch requests are aborted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mipChainLevel</td><td>The index of the mip chain (where 0 is most detailed) to target. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Atom/RPI/Code/Include/Atom/RPI.Public/Image/StreamingImage.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 5 2022 14:05:23 for Open 3D Engine Atom Gem API Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
