<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine AtomTressFX Gem API Reference: AZ::Render::Hair::DynamicHairData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine AtomTressFX Gem API Reference<span id="projectnumber">&#160;23.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_a_z_1_1_render_1_1_hair_1_1_dynamic_hair_data.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_a_z_1_1_render_1_1_hair_1_1_dynamic_hair_data-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AZ::Render::Hair::DynamicHairData Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;HairRenderObject.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4f894776a775a8cb70161479d366752c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_render_1_1_hair_1_1_dynamic_hair_data.html#a4f894776a775a8cb70161479d366752c">CreateDynamicGPUResources</a> (Data::Instance&lt; RPI::Shader &gt; computeShader, Data::Instance&lt; RPI::Shader &gt; rasterShader, uint32_t vertexCount, uint32_t strandsCount)</td></tr>
<tr class="separator:a4f894776a775a8cb70161479d366752c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad727d76bb01ec7c9477c04c4e9ffb3df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_render_1_1_hair_1_1_dynamic_hair_data.html#ad727d76bb01ec7c9477c04c4e9ffb3df">UploadGPUData</a> (const char *name, void *positions, void *tangents)</td></tr>
<tr class="separator:ad727d76bb01ec7c9477c04c4e9ffb3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66b585be42fb82acb9aeab7df2f5b83"><td class="memItemLeft" align="right" valign="top"><a id="af66b585be42fb82acb9aeab7df2f5b83" name="af66b585be42fb82acb9aeab7df2f5b83"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PrepareSrgDescriptors</b> (int32_t vertexCount, uint32_t strandsCount)</td></tr>
<tr class="separator:af66b585be42fb82acb9aeab7df2f5b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7414064d674eda2a047295a53702e9e2"><td class="memItemLeft" align="right" valign="top"><a id="a7414064d674eda2a047295a53702e9e2" name="a7414064d674eda2a047295a53702e9e2"></a>
Data::Instance&lt; RPI::ShaderResourceGroup &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>GetSimSrgForCompute</b> ()</td></tr>
<tr class="separator:a7414064d674eda2a047295a53702e9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa974b7a2b5295a60234de1d4eb0390f0"><td class="memItemLeft" align="right" valign="top"><a id="aa974b7a2b5295a60234de1d4eb0390f0" name="aa974b7a2b5295a60234de1d4eb0390f0"></a>
Data::Instance&lt; RPI::ShaderResourceGroup &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>GetSimSrgForRaster</b> ()</td></tr>
<tr class="separator:aa974b7a2b5295a60234de1d4eb0390f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57365ff46da634e829ef7144b7ed6fda"><td class="memItemLeft" align="right" valign="top"><a id="a57365ff46da634e829ef7144b7ed6fda" name="a57365ff46da634e829ef7144b7ed6fda"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsInitialized</b> ()</td></tr>
<tr class="separator:a57365ff46da634e829ef7144b7ed6fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af5bef0428af5159152a94d6595028931"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_render_1_1_hair_1_1_dynamic_hair_data.html#af5bef0428af5159152a94d6595028931">PrepareSrgDescriptors</a> (AZStd::vector&lt; <a class="el" href="struct_a_z_1_1_render_1_1_srg_buffer_descriptor.html">SrgBufferDescriptor</a> &gt; &amp;descriptorArray, int32_t vertexCount, uint32_t strandsCount)</td></tr>
<tr class="separator:af5bef0428af5159152a94d6595028931"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a5127270f6cbda04f1e08764771824572"><td class="memItemLeft" align="right" valign="top"><a id="a5127270f6cbda04f1e08764771824572" name="a5127270f6cbda04f1e08764771824572"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>HairRenderObject</b></td></tr>
<tr class="separator:a5127270f6cbda04f1e08764771824572"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><hr  />
 <pre class="fragment">                               DynamicHairData
</pre> <hr  />
<p> Contains the writable data that is passed and used by 3 modules: simulation, signed distance field (collisions), and rendering. Rendering uses current position and tangent as SRVs in VS for computing creation and skinning. Since this data is per object (hence per object dispatch) and requires sync point (barrier) between the the passes, a single buffer is allocated and is shared by all hair objects and their 'streams' where each have buffer view so that it points to its own portion of the original buffer's data. The shared buffer is therefore declared in the pass Srg to result in an execution dependency so that a barrier will be created. It also represents less overhead since we are using a single </p>
<h2><a class="anchor" id="autotoc_md0"></a>
coordinated / shared buffer sync point rather than many barriers (per object per buffer).</h2>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4f894776a775a8cb70161479d366752c" name="a4f894776a775a8cb70161479d366752c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f894776a775a8cb70161479d366752c">&#9670;&#160;</a></span>CreateDynamicGPUResources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::Render::Hair::DynamicHairData::CreateDynamicGPUResources </td>
          <td>(</td>
          <td class="paramtype">Data::Instance&lt; RPI::Shader &gt;&#160;</td>
          <td class="paramname"><em>computeShader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Data::Instance&lt; RPI::Shader &gt;&#160;</td>
          <td class="paramname"><em>rasterShader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vertexCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>strandsCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates the GPU dynamic buffers of a single hair object Equivalent to TressFXDynamicHairData::CreateGPUResources </p>

</div>
</div>
<a id="af5bef0428af5159152a94d6595028931" name="af5bef0428af5159152a94d6595028931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bef0428af5159152a94d6595028931">&#9670;&#160;</a></span>PrepareSrgDescriptors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void AZ::Render::Hair::DynamicHairData::PrepareSrgDescriptors </td>
          <td>(</td>
          <td class="paramtype">AZStd::vector&lt; <a class="el" href="struct_a_z_1_1_render_1_1_srg_buffer_descriptor.html">SrgBufferDescriptor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>descriptorArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>vertexCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>strandsCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Preparation of the descriptors table of all the dynamic stream buffers within the class. Do not call this method before calling CreateAndBindGPUResources as it is already called from CreateAndBindGPUResources. This method can be called also for retrieving the descriptors table (<a class="el" href="class_a_z_1_1_render_1_1_shared_buffer.html">SharedBuffer</a>) </p>

</div>
</div>
<a id="ad727d76bb01ec7c9477c04c4e9ffb3df" name="ad727d76bb01ec7c9477c04c4e9ffb3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad727d76bb01ec7c9477c04c4e9ffb3df">&#9670;&#160;</a></span>UploadGPUData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::Render::Hair::DynamicHairData::UploadGPUData </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tangents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Data upload - copy the hair mesh asset data (positions and tangents) into the buffers. In the following line I assume that positions and tangents are of the same size. Equivalent to: TressFXDynamicHairData::UploadGPUData </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/AtomTressFX/Code/Rendering/HairRenderObject.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>AZ</b></li><li class="navelem"><b>Render</b></li><li class="navelem"><b>Hair</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_render_1_1_hair_1_1_dynamic_hair_data.html">DynamicHairData</a></li>
    <li class="footer">Generated on Mon Oct 9 2023 13:49:11 for Open 3D Engine AtomTressFX Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
