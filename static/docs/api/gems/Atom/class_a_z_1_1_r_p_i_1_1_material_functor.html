<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Open 3D Engine Atom Gem API Reference: AZ::RPI::MaterialFunctor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine Atom Gem API Reference
   &#160;<span id="projectnumber">2305.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_a_z_1_1_r_p_i_1_1_material_functor.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_a_z_1_1_r_p_i_1_1_material_functor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AZ::RPI::MaterialFunctor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;MaterialFunctor.h&gt;</code></p>

<p>Inherits intrusive_base.</p>

<p>Inherited by <a class="el" href="class_a_z_1_1_r_p_i_1_1_lua_material_functor.html">AZ::RPI::LuaMaterialFunctor</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93f3f5dd0868a1a601ad18a7c8e3ee83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93f3f5dd0868a1a601ad18a7c8e3ee83"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_RTTI</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">AZ::RPI::MaterialFunctor</a>,&quot;{4F2EDF30-71C0-4E00-9CB0-9EA97587712E}&quot;)</td></tr>
<tr class="separator:a93f3f5dd0868a1a601ad18a7c8e3ee83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d19998081949742a4a8c9070cf157a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4d19998081949742a4a8c9070cf157a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">MaterialFunctor</a>, SystemAllocator)</td></tr>
<tr class="separator:af4d19998081949742a4a8c9070cf157a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f7e66e94745e74f7006667c7d3c900"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17f7e66e94745e74f7006667c7d3c900"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html#a17f7e66e94745e74f7006667c7d3c900">NeedsProcess</a> (const MaterialPropertyFlags &amp;propertyDirtyFlags)</td></tr>
<tr class="memdesc:a17f7e66e94745e74f7006667c7d3c900"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if dependent properties are dirty. <br/></td></tr>
<tr class="separator:a17f7e66e94745e74f7006667c7d3c900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33085917c11459c4c9a7e982551ca8fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33085917c11459c4c9a7e982551ca8fc"></a>
const MaterialPropertyFlags &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html#a33085917c11459c4c9a7e982551ca8fc">GetMaterialPropertyDependencies</a> () const </td></tr>
<tr class="memdesc:a33085917c11459c4c9a7e982551ca8fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all dependent properties of this functor. <br/></td></tr>
<tr class="separator:a33085917c11459c4c9a7e982551ca8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f77c383f305fc282aaf98877944f32"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html#aa6f77c383f305fc282aaf98877944f32">Process</a> ([[maybe_unused]] <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor_a_p_i_1_1_runtime_context.html">MaterialFunctorAPI::RuntimeContext</a> &amp;context)</td></tr>
<tr class="separator:aa6f77c383f305fc282aaf98877944f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df00610d701877ba73da6d4c3eb1708"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1df00610d701877ba73da6d4c3eb1708"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html#a1df00610d701877ba73da6d4c3eb1708">Process</a> ([[maybe_unused]] <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor_a_p_i_1_1_editor_context.html">MaterialFunctorAPI::EditorContext</a> &amp;context)</td></tr>
<tr class="memdesc:a1df00610d701877ba73da6d4c3eb1708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process(EditorContext) is called in tools to configure UI, such as property visibility. <br/></td></tr>
<tr class="separator:a1df00610d701877ba73da6d4c3eb1708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4d644cc14034ac095b0bf610cb4751"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html#a9a4d644cc14034ac095b0bf610cb4751">Process</a> ([[maybe_unused]] <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor_a_p_i_1_1_pipeline_runtime_context.html">MaterialFunctorAPI::PipelineRuntimeContext</a> &amp;context)</td></tr>
<tr class="separator:a9a4d644cc14034ac095b0bf610cb4751"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a323520ef38c261e996d856a6daf2ca0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a323520ef38c261e996d856a6daf2ca0f"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>Reflect</b> (ReflectContext *context)</td></tr>
<tr class="separator:a323520ef38c261e996d856a6daf2ca0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a86ef1c8e3b8b435f6c08d543cc60d4f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86ef1c8e3b8b435f6c08d543cc60d4f2"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>MaterialFunctorSourceData</b></td></tr>
<tr class="separator:a86ef1c8e3b8b435f6c08d543cc60d4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">MaterialFunctor</a> objects provide custom logic and calculations to configure shaders, render states, editor metadata, and more. Atom also provides a <a class="el" href="class_a_z_1_1_r_p_i_1_1_lua_material_functor.html" title="Materials can use this functor to create custom scripted operations. ">LuaMaterialFunctor</a> subclass that uses a script to define the custom logic for a convenient workflow. Developers may also provide their own custom hard-coded implementations as an optimization rather than taking the scripted approach. Any custom subclasses of <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">MaterialFunctor</a> will also need a corresponding <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor_source_data.html">MaterialFunctorSourceData</a> subclass to create the functor at build-time. Depending on the builder context, clients can choose to create a runtime specific functor, an editor functor or one functor used in both circumstances (see usage examples and <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html#aa6f77c383f305fc282aaf98877944f32">MaterialFunctor::Process</a> blow). Usage example: (MainRuntime) Modify the material's main <a class="el" href="class_a_z_1_1_r_p_i_1_1_shader_collection.html">ShaderCollection</a>; (This allows a material type to include custom logic that dynamically enables or disables particular shaders, or set shader options) (MainRuntime) Perform client-specified calculations on material property values to produce shader input values; (For example, there may be a "RotationDegrees" material property but the underlying shader requires a rotation matrix, so a <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">MaterialFunctor</a> converts the data.) (MainRuntime) Set internal material property values that are passed to a material pipeline script for further processing; (For example, if a an "opacityValue" property is less than 1.0, set a "isTransparent" flag. Another material pipeline functor can use this to enable the transparent pass shader.) (Editor) Modify metadata of a property when other related properties have changed their value. (For example, if a flag property use texture is checked, the texture property will show up, otherwise, it should hide.) (PipelineRuntime) Enable or disable material pipeline shaders. (The material pipeline has an "isTransparent" flag. Some other part of the material type sets this value as needed based on material property values from the user. If this value is true, the functor disables the depth pass and forward pass, and instead enables the transparent pass shader.) Note: Although it is reasonable to have a <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">MaterialFunctor</a> subclass that implements both Process(RuntimeContext) and Process(EditorContext) (Atom has several functors that work like this), there is no reason for a functor to combine either of these with Process(PipelineRuntimeContext). The role of regular material functors vs pipeline material functors are so different it could actually be more proper to have separate <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">MaterialFunctor</a> and MaterialPipelineFunctor classes. However, we avoid making that split because in practice it would create unnecessary clutter, as it would lead to splitting <a class="el" href="class_a_z_1_1_r_p_i_1_1_material.html">Material</a>[Pipeline]SourceData, JsonMaterial[Pipeline]FunctorSourceDataSerializer, LuaMaterial[Pipeline]Functor, LuaMaterial[Pipeline]FunctorSourceData, and all their relevant unit tests. These are so similar functionally that it ends up being easier to just keep them all together, and solely rely on the different execution context objections to keep the APIs separated. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa6f77c383f305fc282aaf98877944f32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void AZ::RPI::MaterialFunctor::Process </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor_a_p_i_1_1_runtime_context.html">MaterialFunctorAPI::RuntimeContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process(RuntimeContext) is called at runtime to configure the pipeline-agnostic <a class="el" href="class_a_z_1_1_r_p_i_1_1_shader_collection.html">ShaderCollection</a> and material <a class="el" href="class_a_z_1_1_r_p_i_1_1_shader_resource_group.html">ShaderResourceGroup</a> based on material property values. </p>

</div>
</div>
<a class="anchor" id="a9a4d644cc14034ac095b0bf610cb4751"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void AZ::RPI::MaterialFunctor::Process </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] <a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor_a_p_i_1_1_pipeline_runtime_context.html">MaterialFunctorAPI::PipelineRuntimeContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process(PipelineRuntimeContext) is called at runtime to configure a pipeline-specific <a class="el" href="class_a_z_1_1_r_p_i_1_1_shader_collection.html">ShaderCollection</a> based on some internal material property values. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Atom/RPI/Code/Include/Atom/RPI.Reflect/Material/MaterialFunctor.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RPI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_p_i_1_1_material_functor.html">MaterialFunctor</a></li>
    <li class="footer">Generated on Wed Apr 12 2023 20:01:42 for Open 3D Engine Atom Gem API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
