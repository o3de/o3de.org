<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Atom Gem API Reference: AZ::RHI::ConstantsLayout Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine Atom Gem API Reference<span id="projectnumber">&#160;23.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_a_z_1_1_r_h_i_1_1_constants_layout.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_a_z_1_1_r_h_i_1_1_constants_layout-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AZ::RHI::ConstantsLayout Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;ConstantsLayout.h&gt;</code></p>

<p>Inherits AZStd::intrusive_base.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aebb5b85ec74dbbd5a49d7d9a4e44f56e"><td class="memItemLeft" align="right" valign="top"><a id="aebb5b85ec74dbbd5a49d7d9a4e44f56e" name="aebb5b85ec74dbbd5a49d7d9a4e44f56e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_TYPE_INFO</b> (<a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a>, &quot;{66EDAC32-7730-4F05-AF9D-B3CB0F5D90E0}&quot;)</td></tr>
<tr class="separator:aebb5b85ec74dbbd5a49d7d9a4e44f56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9702f2bb86c345aee9507c9bcb2cf6"><td class="memItemLeft" align="right" valign="top"><a id="ade9702f2bb86c345aee9507c9bcb2cf6" name="ade9702f2bb86c345aee9507c9bcb2cf6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a>, AZ::SystemAllocator)</td></tr>
<tr class="separator:ade9702f2bb86c345aee9507c9bcb2cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c552ff256bbbcf4ecccf666d9b39f12"><td class="memItemLeft" align="right" valign="top"><a id="a3c552ff256bbbcf4ecccf666d9b39f12" name="a3c552ff256bbbcf4ecccf666d9b39f12"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AddShaderInput</b> (const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &amp;descriptor)</td></tr>
<tr class="memdesc:a3c552ff256bbbcf4ecccf666d9b39f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a shader input to the constants layout. <br /></td></tr>
<tr class="separator:a3c552ff256bbbcf4ecccf666d9b39f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77e3b3e052ac6e31b13f2f011112a14"><td class="memItemLeft" align="right" valign="top"><a id="ae77e3b3e052ac6e31b13f2f011112a14" name="ae77e3b3e052ac6e31b13f2f011112a14"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Clear</b> ()</td></tr>
<tr class="memdesc:ae77e3b3e052ac6e31b13f2f011112a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the layout to an empty state. The layout must be finalized prior to usage. <br /></td></tr>
<tr class="separator:ae77e3b3e052ac6e31b13f2f011112a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7096664b4e7e562d4728f47e2f3ed3b"><td class="memItemLeft" align="right" valign="top"><a id="aa7096664b4e7e562d4728f47e2f3ed3b" name="aa7096664b4e7e562d4728f47e2f3ed3b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsFinalized</b> () const</td></tr>
<tr class="separator:aa7096664b4e7e562d4728f47e2f3ed3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792a1a725fa0d5587500890892c9973b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a792a1a725fa0d5587500890892c9973b">Finalize</a> ()</td></tr>
<tr class="separator:a792a1a725fa0d5587500890892c9973b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ad1b3ac7eba77f168bf64917513da8"><td class="memItemLeft" align="right" valign="top"><a id="a25ad1b3ac7eba77f168bf64917513da8" name="a25ad1b3ac7eba77f168bf64917513da8"></a>
HashValue64&#160;</td><td class="memItemRight" valign="bottom"><b>GetHash</b> () const</td></tr>
<tr class="memdesc:a25ad1b3ac7eba77f168bf64917513da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the hash of the layout. <br /></td></tr>
<tr class="separator:a25ad1b3ac7eba77f168bf64917513da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8015aea8e037e71e5c1499642539a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a2a8015aea8e037e71e5c1499642539a6">FindShaderInputIndex</a> (const Name &amp;name) const</td></tr>
<tr class="separator:a2a8015aea8e037e71e5c1499642539a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14903b90b5a056701a08ab6e590078e5"><td class="memItemLeft" align="right" valign="top"><a id="a14903b90b5a056701a08ab6e590078e5" name="a14903b90b5a056701a08ab6e590078e5"></a>
<a class="el" href="struct_a_z_1_1_r_h_i_1_1_interval.html">Interval</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GetInterval</b> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> inputIndex) const</td></tr>
<tr class="memdesc:a14903b90b5a056701a08ab6e590078e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interval of a constant is its byte [min, max) into the constants data. <br /></td></tr>
<tr class="separator:a14903b90b5a056701a08ab6e590078e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2959e0d468aa29978b3329b80ef9fc5b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a2959e0d468aa29978b3329b80ef9fc5b">GetShaderInput</a> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> inputIndex) const</td></tr>
<tr class="separator:a2959e0d468aa29978b3329b80ef9fc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba4e3b3042f60da4f12c68fd78a6ebd"><td class="memItemLeft" align="right" valign="top">AZStd::span&lt; const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#acba4e3b3042f60da4f12c68fd78a6ebd">GetShaderInputList</a> () const</td></tr>
<tr class="separator:acba4e3b3042f60da4f12c68fd78a6ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f1ed339fef71daa084ff2c56a78a26"><td class="memItemLeft" align="right" valign="top"><a id="ad7f1ed339fef71daa084ff2c56a78a26" name="ad7f1ed339fef71daa084ff2c56a78a26"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetDataSize</b> () const</td></tr>
<tr class="memdesc:ad7f1ed339fef71daa084ff2c56a78a26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total size in bytes used by the constants. <br /></td></tr>
<tr class="separator:ad7f1ed339fef71daa084ff2c56a78a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d86deadb41f3d491ca7146b1bbbe6f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a09d86deadb41f3d491ca7146b1bbbe6f">ValidateAccess</a> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> inputIndex) const</td></tr>
<tr class="separator:a09d86deadb41f3d491ca7146b1bbbe6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f4a66fdad0650523baa6b7b1a26daa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a58f4a66fdad0650523baa6b7b1a26daa">DebugPrintNames</a> (AZStd::span&lt; const <a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> &gt; constantList) const</td></tr>
<tr class="separator:a58f4a66fdad0650523baa6b7b1a26daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3832c0de576a4edfcea4ba7c2e94c074"><td class="memItemLeft" align="right" valign="top"><a id="a3832c0de576a4edfcea4ba7c2e94c074" name="a3832c0de576a4edfcea4ba7c2e94c074"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>Reflect</b> (AZ::ReflectContext *context)</td></tr>
<tr class="separator:a3832c0de576a4edfcea4ba7c2e94c074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1e6caa031f9cfc9cbc41f352541320"><td class="memItemLeft" align="right" valign="top"><a id="a8c1e6caa031f9cfc9cbc41f352541320" name="a8c1e6caa031f9cfc9cbc41f352541320"></a>
static RHI::Ptr&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Create</b> ()</td></tr>
<tr class="separator:a8c1e6caa031f9cfc9cbc41f352541320"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:addbb49fc537079c794daf85b1cfab44b"><td class="memTemplParams" colspan="2"><a id="addbb49fc537079c794daf85b1cfab44b" name="addbb49fc537079c794daf85b1cfab44b"></a>
template&lt;typename , typename &gt; </td></tr>
<tr class="memitem:addbb49fc537079c794daf85b1cfab44b"><td class="memTemplItemLeft" align="right" valign="top">struct&#160;</td><td class="memTemplItemRight" valign="bottom"><b>AnyTypeInfoConcept</b></td></tr>
<tr class="separator:addbb49fc537079c794daf85b1cfab44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b929056bf1ec8e007d1a9367bdeebad"><td class="memTemplParams" colspan="2"><a id="a5b929056bf1ec8e007d1a9367bdeebad" name="a5b929056bf1ec8e007d1a9367bdeebad"></a>
template&lt;typename , bool , bool &gt; </td></tr>
<tr class="memitem:a5b929056bf1ec8e007d1a9367bdeebad"><td class="memTemplItemLeft" align="right" valign="top">struct&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Serialize::InstanceFactory</b></td></tr>
<tr class="separator:a5b929056bf1ec8e007d1a9367bdeebad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a> defines a the layout of a set of constant shader inputs. Each constant input spans a range of bytes in an byte array. The array could represent a constant buffer or an inline structure depending on where the constants are being use.</p>
<p>To use the class, assign shader inputs using AddShaderInput, and call Finalize to complete construction of the layout. This class is intended to be built using an offline shader compiler, and serialized to / from disk. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a58f4a66fdad0650523baa6b7b1a26daa" name="a58f4a66fdad0650523baa6b7b1a26daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f4a66fdad0650523baa6b7b1a26daa">&#9670;&#160;</a></span>DebugPrintNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RHI::ConstantsLayout::DebugPrintNames </td>
          <td>(</td>
          <td class="paramtype">AZStd::span&lt; const <a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> &gt;&#160;</td>
          <td class="paramname"><em>constantList</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints to the console the shader input names specified by input list of indices Will ignore any indices outside of the inputs array bounds </p>

</div>
</div>
<a id="a792a1a725fa0d5587500890892c9973b" name="a792a1a725fa0d5587500890892c9973b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792a1a725fa0d5587500890892c9973b">&#9670;&#160;</a></span>Finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::RHI::ConstantsLayout::Finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalizes the layout for access. Must be called prior to usage or serialization. It is not permitted to mutate the layout once Finalize is called. Clear must be called first. If the call fails, the layout is cleared back to an empty state and false is returned. Otherwise, true is returned and the layout is considered finalized. </p>

</div>
</div>
<a id="a2a8015aea8e037e71e5c1499642539a6" name="a2a8015aea8e037e71e5c1499642539a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a8015aea8e037e71e5c1499642539a6">&#9670;&#160;</a></span>FindShaderInputIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> AZ::RHI::ConstantsLayout::FindShaderInputIndex </td>
          <td>(</td>
          <td class="paramtype">const Name &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resolves a shader input name to an index. To maximize performance, the name to index resolve should be done as an initialization step and the indices cached. </p>

</div>
</div>
<a id="a2959e0d468aa29978b3329b80ef9fc5b" name="a2959e0d468aa29978b3329b80ef9fc5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2959e0d468aa29978b3329b80ef9fc5b">&#9670;&#160;</a></span>GetShaderInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &amp; AZ::RHI::ConstantsLayout::GetShaderInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a>&#160;</td>
          <td class="paramname"><em>inputIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the shader input associated with the requested index. It is not permitted to call this method with a null index. An assert will fire otherwise. </p>

</div>
</div>
<a id="acba4e3b3042f60da4f12c68fd78a6ebd" name="acba4e3b3042f60da4f12c68fd78a6ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba4e3b3042f60da4f12c68fd78a6ebd">&#9670;&#160;</a></span>GetShaderInputList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZStd::span&lt; const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &gt; AZ::RHI::ConstantsLayout::GetShaderInputList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the full lists of shader input added to the layout. Inputs maintain their original order with respect to AddShaderInput. </p>

</div>
</div>
<a id="a09d86deadb41f3d491ca7146b1bbbe6f" name="a09d86deadb41f3d491ca7146b1bbbe6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d86deadb41f3d491ca7146b1bbbe6f">&#9670;&#160;</a></span>ValidateAccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::RHI::ConstantsLayout::ValidateAccess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a>&#160;</td>
          <td class="paramname"><em>inputIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates that the inputIndex is valid. Emits an assert and returns false on failure; returns true on success. If validation is disabled, true is always returned. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Atom/RHI/Code/Include/Atom/RHI.Reflect/ConstantsLayout.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RHI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a></li>
    <li class="footer">Generated on Mon Oct 9 2023 13:49:06 for Open 3D Engine Atom Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
