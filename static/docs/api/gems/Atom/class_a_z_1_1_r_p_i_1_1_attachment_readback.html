<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Atom Gem API Reference: AZ::RPI::AttachmentReadback Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine Atom Gem API Reference<span id="projectnumber">&#160;24.09</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_a_z_1_1_r_p_i_1_1_attachment_readback.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_a_z_1_1_r_p_i_1_1_attachment_readback-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AZ::RPI::AttachmentReadback Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;AttachmentReadback.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_z_1_1_r_p_i_1_1_attachment_readback_1_1_mip_info.html">MipInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_z_1_1_r_p_i_1_1_attachment_readback_1_1_readback_result.html">ReadbackResult</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1c686513921c1b1123cd3df1ffeca349" id="r_a1c686513921c1b1123cd3df1ffeca349"><td class="memItemLeft" align="right" valign="top"><a id="a1c686513921c1b1123cd3df1ffeca349" name="a1c686513921c1b1123cd3df1ffeca349"></a>enum class &#160;</td><td class="memItemRight" valign="bottom"><b>ReadbackState</b> : uint32_t { <br />
&#160;&#160;<b>Uninitialized</b> = 0
, <b>Idle</b>
, <b>AttachmentSet</b>
, <b>Reading</b>
, <br />
&#160;&#160;<b>Success</b>
, <b>Failed</b>
<br />
 }</td></tr>
<tr class="separator:a1c686513921c1b1123cd3df1ffeca349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a78c14b77047f5f746cf26cac3afffe" id="r_a2a78c14b77047f5f746cf26cac3afffe"><td class="memItemLeft" align="right" valign="top"><a id="a2a78c14b77047f5f746cf26cac3afffe" name="a2a78c14b77047f5f746cf26cac3afffe"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>CallbackFunction</b> = AZStd::function&lt;void(const <a class="el" href="struct_a_z_1_1_r_p_i_1_1_attachment_readback_1_1_readback_result.html">ReadbackResult</a>&amp;)&gt;</td></tr>
<tr class="separator:a2a78c14b77047f5f746cf26cac3afffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1f574f3de8981ef1008f3c39ddbc3e11" id="r_a1f574f3de8981ef1008f3c39ddbc3e11"><td class="memItemLeft" align="right" valign="top"><a id="a1f574f3de8981ef1008f3c39ddbc3e11" name="a1f574f3de8981ef1008f3c39ddbc3e11"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_RTTI</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_attachment_readback.html">AttachmentReadback</a>, &quot;{9C70ACD3-8694-4EF3-A556-9DA25BD1237C}&quot;)</td></tr>
<tr class="separator:a1f574f3de8981ef1008f3c39ddbc3e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6633288a04023f68b2cc89fdbb6b2f" id="r_a1a6633288a04023f68b2cc89fdbb6b2f"><td class="memItemLeft" align="right" valign="top"><a id="a1a6633288a04023f68b2cc89fdbb6b2f" name="a1a6633288a04023f68b2cc89fdbb6b2f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_r_p_i_1_1_attachment_readback.html">AttachmentReadback</a>, SystemAllocator)</td></tr>
<tr class="separator:a1a6633288a04023f68b2cc89fdbb6b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90244c828cf0e5aebefe5728ed04a56d" id="r_a90244c828cf0e5aebefe5728ed04a56d"><td class="memItemLeft" align="right" valign="top"><a id="a90244c828cf0e5aebefe5728ed04a56d" name="a90244c828cf0e5aebefe5728ed04a56d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AttachmentReadback</b> (const RHI::ScopeId &amp;scopeId)</td></tr>
<tr class="separator:a90244c828cf0e5aebefe5728ed04a56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6611520a5cbc87fccc869cfd890e12" id="r_aff6611520a5cbc87fccc869cfd890e12"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff6611520a5cbc87fccc869cfd890e12">ReadPassAttachment</a> (const <a class="el" href="struct_a_z_1_1_r_p_i_1_1_pass_attachment.html">PassAttachment</a> *attachment, const AZ::Name &amp;readbackName, const <a class="el" href="struct_a_z_1_1_r_h_i_1_1_image_subresource_range.html">RHI::ImageSubresourceRange</a> *mipsRange=nullptr)</td></tr>
<tr class="separator:aff6611520a5cbc87fccc869cfd890e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ecb3169b536de41de7270eac793123" id="r_ae6ecb3169b536de41de7270eac793123"><td class="memItemLeft" align="right" valign="top"><a id="ae6ecb3169b536de41de7270eac793123" name="ae6ecb3169b536de41de7270eac793123"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Reset</b> ()</td></tr>
<tr class="separator:ae6ecb3169b536de41de7270eac793123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ecbd1191161e4e5ad331741459900e" id="r_a19ecbd1191161e4e5ad331741459900e"><td class="memItemLeft" align="right" valign="top"><a id="a19ecbd1191161e4e5ad331741459900e" name="a19ecbd1191161e4e5ad331741459900e"></a>
ReadbackState&#160;</td><td class="memItemRight" valign="bottom"><b>GetReadbackState</b> ()</td></tr>
<tr class="separator:a19ecbd1191161e4e5ad331741459900e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e8aae3287716e2b874e4f6b4552688" id="r_a13e8aae3287716e2b874e4f6b4552688"><td class="memItemLeft" align="right" valign="top"><a id="a13e8aae3287716e2b874e4f6b4552688" name="a13e8aae3287716e2b874e4f6b4552688"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetCallback</b> (CallbackFunction callback)</td></tr>
<tr class="memdesc:a13e8aae3287716e2b874e4f6b4552688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback function which will be called when readback is finished or failed. <br /></td></tr>
<tr class="separator:a13e8aae3287716e2b874e4f6b4552688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6c049d74f2a76b35c74ec2dc54ee7d" id="r_a6c6c049d74f2a76b35c74ec2dc54ee7d"><td class="memItemLeft" align="right" valign="top"><a id="a6c6c049d74f2a76b35c74ec2dc54ee7d" name="a6c6c049d74f2a76b35c74ec2dc54ee7d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetUserIdentifier</b> (uint32_t userIdentifier)</td></tr>
<tr class="memdesc:a6c6c049d74f2a76b35c74ec2dc54ee7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the using systems identifier tag. <br /></td></tr>
<tr class="separator:a6c6c049d74f2a76b35c74ec2dc54ee7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e00a473568d4b0ef5da65c8192fa58" id="r_ae7e00a473568d4b0ef5da65c8192fa58"><td class="memItemLeft" align="right" valign="top"><a id="ae7e00a473568d4b0ef5da65c8192fa58" name="ae7e00a473568d4b0ef5da65c8192fa58"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsFinished</b> () const</td></tr>
<tr class="memdesc:ae7e00a473568d4b0ef5da65c8192fa58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the previous readback is finished. <br /></td></tr>
<tr class="separator:ae7e00a473568d4b0ef5da65c8192fa58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bd345ac5b7a3e644849f0b5ef25179" id="r_a04bd345ac5b7a3e644849f0b5ef25179"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04bd345ac5b7a3e644849f0b5ef25179">IsReady</a> () const</td></tr>
<tr class="separator:a04bd345ac5b7a3e644849f0b5ef25179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9105770c4379a6e3ec1851f2477ffa40" id="r_a9105770c4379a6e3ec1851f2477ffa40"><td class="memItemLeft" align="right" valign="top"><a id="a9105770c4379a6e3ec1851f2477ffa40" name="a9105770c4379a6e3ec1851f2477ffa40"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>FrameBegin</b> (<a class="el" href="struct_a_z_1_1_r_p_i_1_1_pass_1_1_frame_prepare_params.html">Pass::FramePrepareParams</a> params)</td></tr>
<tr class="memdesc:a9105770c4379a6e3ec1851f2477ffa40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare this scope producer for the frame. <br /></td></tr>
<tr class="separator:a9105770c4379a6e3ec1851f2477ffa40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Adds one or two scope producers (the second serves to decompose an MS Texture) which read back one or more mip levels for a particular attachment to CPU memory. Both buffer and image attachments are supported. In case of images it can also capture specific Mip Levels, as defined in the image view descriptors. Also, for images, Volume Texture image attachments (aka Texture3D) are supported too. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a04bd345ac5b7a3e644849f0b5ef25179" name="a04bd345ac5b7a3e644849f0b5ef25179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bd345ac5b7a3e644849f0b5ef25179">&#9670;&#160;</a></span>IsReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::RPI::AttachmentReadback::IsReady </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Whether it's ready to readback an attachment Returns false if it's not initialized or it's in the process of readback from another attachment </p>

</div>
</div>
<a id="aff6611520a5cbc87fccc869cfd890e12" name="aff6611520a5cbc87fccc869cfd890e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6611520a5cbc87fccc869cfd890e12">&#9670;&#160;</a></span>ReadPassAttachment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::RPI::AttachmentReadback::ReadPassAttachment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_z_1_1_r_p_i_1_1_pass_attachment.html">PassAttachment</a> *</td>          <td class="paramname"><span class="paramname"><em>attachment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AZ::Name &amp;</td>          <td class="paramname"><span class="paramname"><em>readbackName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_z_1_1_r_h_i_1_1_image_subresource_range.html">RHI::ImageSubresourceRange</a> *</td>          <td class="paramname"><span class="paramname"><em>mipsRange</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads back one or more mip levels from a single pass attachment. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readbackName</td><td>is the name for the readback buffer. And it will be saved in ReadbackResult::m_name. If the name is empty, a name will be generated automatically. Return true if the pass attachment readback request was submitted. <br  />
 The callback function set by <a class="el" href="#a13e8aae3287716e2b874e4f6b4552688" title="Set a callback function which will be called when readback is finished or failed.">SetCallback(CallbackFunction callback)</a> will be called once the readback is finished </td></tr>
    <tr><td class="paramname">mipsRange</td><td>If null, by default it is assumed that @attachment refers to Mip Level 0. When different than null, it is used to specify which mip levels to readback from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Atom/RPI/Code/Include/Atom/RPI.Public/Pass/<b>AttachmentReadback.h</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RPI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_p_i_1_1_attachment_readback.html">AttachmentReadback</a></li>
    <li class="footer">Generated on Mon Oct 7 2024 17:14:53 for Open 3D Engine Atom Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
