<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine Atom Gem API Reference: AZ::RPI::RingBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine Atom Gem API Reference<span id="projectnumber">&#160;24.09</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_a_z_1_1_r_p_i_1_1_ring_buffer.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_a_z_1_1_r_p_i_1_1_ring_buffer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AZ::RPI::RingBuffer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;RingBuffer.h&gt;</code></p>

<p>Inherits <a class="el" href="class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer.html">AZ::RHI::FrameCountMaxRingBuffer&lt; Data::Instance&lt; Buffer &gt; &gt;</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab3dd5058ad96a20667969e34b7e649f7" id="r_ab3dd5058ad96a20667969e34b7e649f7"><td class="memItemLeft" align="right" valign="top"><a id="ab3dd5058ad96a20667969e34b7e649f7" name="ab3dd5058ad96a20667969e34b7e649f7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>RingBuffer</b> (const AZStd::string &amp;bufferName, CommonBufferPoolType bufferPoolType, RHI::Format bufferFormat)</td></tr>
<tr class="memdesc:ab3dd5058ad96a20667969e34b7e649f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a set of buffers with a name and a format. The element size is derived from the format. <br /></td></tr>
<tr class="separator:ab3dd5058ad96a20667969e34b7e649f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdaa43cecca7e9b4239cb83fe8268e1" id="r_a8bdaa43cecca7e9b4239cb83fe8268e1"><td class="memItemLeft" align="right" valign="top"><a id="a8bdaa43cecca7e9b4239cb83fe8268e1" name="a8bdaa43cecca7e9b4239cb83fe8268e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>RingBuffer</b> (const AZStd::string &amp;bufferName, CommonBufferPoolType bufferPoolType, uint32_t elementSize)</td></tr>
<tr class="memdesc:a8bdaa43cecca7e9b4239cb83fe8268e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a set of buffers with a name and an element size. The format is set to unknown. <br /></td></tr>
<tr class="separator:a8bdaa43cecca7e9b4239cb83fe8268e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328d8f524f95d245c2213e9ff48d9dd4" id="r_a328d8f524f95d245c2213e9ff48d9dd4"><td class="memItemLeft" align="right" valign="top"><a id="a328d8f524f95d245c2213e9ff48d9dd4" name="a328d8f524f95d245c2213e9ff48d9dd4"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsCurrentBufferValid</b> () const</td></tr>
<tr class="memdesc:a328d8f524f95d245c2213e9ff48d9dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the current buffer was already created and is not empty. <br /></td></tr>
<tr class="separator:a328d8f524f95d245c2213e9ff48d9dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f704fcfa9c9b9296e4ce598a88d93b" id="r_a98f704fcfa9c9b9296e4ce598a88d93b"><td class="memItemLeft" align="right" valign="top"><a id="a98f704fcfa9c9b9296e4ce598a88d93b" name="a98f704fcfa9c9b9296e4ce598a88d93b"></a>
const Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_p_i_1_1_buffer.html">Buffer</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetCurrentBuffer</b> () const</td></tr>
<tr class="memdesc:a98f704fcfa9c9b9296e4ce598a88d93b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current buffer. <br /></td></tr>
<tr class="separator:a98f704fcfa9c9b9296e4ce598a88d93b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc4a8deb1f3e8c2ff385cbc3b6da78c" id="r_addc4a8deb1f3e8c2ff385cbc3b6da78c"><td class="memItemLeft" align="right" valign="top"><a id="addc4a8deb1f3e8c2ff385cbc3b6da78c" name="addc4a8deb1f3e8c2ff385cbc3b6da78c"></a>
const <a class="el" href="class_a_z_1_1_r_h_i_1_1_buffer_view.html">RHI::BufferView</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetCurrentBufferView</b> () const</td></tr>
<tr class="memdesc:addc4a8deb1f3e8c2ff385cbc3b6da78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a RHI view of the current buffer. <br /></td></tr>
<tr class="separator:addc4a8deb1f3e8c2ff385cbc3b6da78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a538eb1d688a24588e55a43fa229e212d" id="r_a538eb1d688a24588e55a43fa229e212d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a538eb1d688a24588e55a43fa229e212d">AdvanceCurrentBufferAndUpdateData</a> (const void *data, u64 dataSizeInBytes)</td></tr>
<tr class="separator:a538eb1d688a24588e55a43fa229e212d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fbca07d5624275f8eba6c2abd21398c" id="r_a0fbca07d5624275f8eba6c2abd21398c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a0fbca07d5624275f8eba6c2abd21398c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a0fbca07d5624275f8eba6c2abd21398c">AdvanceCurrentBufferAndUpdateData</a> (AZStd::span&lt; const T &gt; data)</td></tr>
<tr class="separator:a0fbca07d5624275f8eba6c2abd21398c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78a550793328578e9ae7f597cf57353" id="r_ab78a550793328578e9ae7f597cf57353"><td class="memTemplParams" colspan="2"><a id="ab78a550793328578e9ae7f597cf57353" name="ab78a550793328578e9ae7f597cf57353"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab78a550793328578e9ae7f597cf57353"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>AdvanceCurrentBufferAndUpdateData</b> (const T &amp;data)</td></tr>
<tr class="memdesc:ab78a550793328578e9ae7f597cf57353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function which allows automatic conversion from vector/array to span. <br /></td></tr>
<tr class="separator:ab78a550793328578e9ae7f597cf57353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf5ed5f2de8b764b261864c79b8cb52" id="r_a6cf5ed5f2de8b764b261864c79b8cb52"><td class="memItemLeft" align="right" valign="top"><a id="a6cf5ed5f2de8b764b261864c79b8cb52" name="a6cf5ed5f2de8b764b261864c79b8cb52"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>CreateOrResizeCurrentBuffer</b> (u64 bufferSizeInBytes)</td></tr>
<tr class="memdesc:a6cf5ed5f2de8b764b261864c79b8cb52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates or resizes the current buffer to fit the given number of bytes. <br /></td></tr>
<tr class="separator:a6cf5ed5f2de8b764b261864c79b8cb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43cf15ba2972661838131b1c4f685a3e" id="r_a43cf15ba2972661838131b1c4f685a3e"><td class="memTemplParams" colspan="2"><a id="a43cf15ba2972661838131b1c4f685a3e" name="a43cf15ba2972661838131b1c4f685a3e"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a43cf15ba2972661838131b1c4f685a3e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>CreateOrResizeCurrentBufferWithElementCount</b> (u64 elementCount)</td></tr>
<tr class="memdesc:a43cf15ba2972661838131b1c4f685a3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates or resizes the current buffer to fit the given number of elements. <br /></td></tr>
<tr class="separator:a43cf15ba2972661838131b1c4f685a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2663d2cfd2908ca144bcc3e1ab6cc1f" id="r_ab2663d2cfd2908ca144bcc3e1ab6cc1f"><td class="memItemLeft" align="right" valign="top"><a id="ab2663d2cfd2908ca144bcc3e1ab6cc1f" name="ab2663d2cfd2908ca144bcc3e1ab6cc1f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>UpdateCurrentBufferData</b> (const void *data, u64 dataSizeInBytes, u64 bufferOffsetInBytes)</td></tr>
<tr class="memdesc:ab2663d2cfd2908ca144bcc3e1ab6cc1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the data of the current buffer. <br /></td></tr>
<tr class="separator:ab2663d2cfd2908ca144bcc3e1ab6cc1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410e761c1452a12cb0b0e9d3cb909b39" id="r_a410e761c1452a12cb0b0e9d3cb909b39"><td class="memTemplParams" colspan="2"><a id="a410e761c1452a12cb0b0e9d3cb909b39" name="a410e761c1452a12cb0b0e9d3cb909b39"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a410e761c1452a12cb0b0e9d3cb909b39"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>UpdateCurrentBufferData</b> (AZStd::span&lt; const T &gt; data, u64 bufferElementOffset=0)</td></tr>
<tr class="memdesc:a410e761c1452a12cb0b0e9d3cb909b39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the data of the current buffer. <br /></td></tr>
<tr class="separator:a410e761c1452a12cb0b0e9d3cb909b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc0f20161c404c3cd2fd244ad1b2ed5" id="r_a4dc0f20161c404c3cd2fd244ad1b2ed5"><td class="memTemplParams" colspan="2"><a id="a4dc0f20161c404c3cd2fd244ad1b2ed5" name="a4dc0f20161c404c3cd2fd244ad1b2ed5"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a4dc0f20161c404c3cd2fd244ad1b2ed5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>UpdateCurrentBufferData</b> (const T &amp;data, u64 bufferElementOffset=0)</td></tr>
<tr class="memdesc:a4dc0f20161c404c3cd2fd244ad1b2ed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function which allows automatic conversion from vector/array to span. <br /></td></tr>
<tr class="separator:a4dc0f20161c404c3cd2fd244ad1b2ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer.html">AZ::RHI::FrameCountMaxRingBuffer&lt; Data::Instance&lt; Buffer &gt; &gt;</a></td></tr>
<tr class="memitem:ad3159d0b5f29dd54fd92f37135a6db96 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer" id="r_ad3159d0b5f29dd54fd92f37135a6db96"><td class="memItemLeft" align="right" valign="top">Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_buffer.html">Buffer</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer.html#ad3159d0b5f29dd54fd92f37135a6db96">AdvanceCurrentElement</a> ()</td></tr>
<tr class="separator:ad3159d0b5f29dd54fd92f37135a6db96 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674e44859de1b68f47cd3a5c0c50bec8 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer" id="r_a674e44859de1b68f47cd3a5c0c50bec8"><td class="memItemLeft" align="right" valign="top">
const Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_buffer.html">Buffer</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetCurrentElement</b> () const</td></tr>
<tr class="memdesc:a674e44859de1b68f47cd3a5c0c50bec8 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current element. <br /></td></tr>
<tr class="separator:a674e44859de1b68f47cd3a5c0c50bec8 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eed166787e6542bd4c6002c2c3201e3 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer" id="r_a4eed166787e6542bd4c6002c2c3201e3"><td class="memItemLeft" align="right" valign="top">
Data::Instance&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_buffer.html">Buffer</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetCurrentElement</b> ()</td></tr>
<tr class="memdesc:a4eed166787e6542bd4c6002c2c3201e3 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current element. <br /></td></tr>
<tr class="separator:a4eed166787e6542bd4c6002c2c3201e3 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480a69273ff680e84111bc2ace3bd5f7 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer" id="r_a480a69273ff680e84111bc2ace3bd5f7"><td class="memItemLeft" align="right" valign="top">
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>GetElementCount</b> () const</td></tr>
<tr class="memdesc:a480a69273ff680e84111bc2ace3bd5f7 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of elements that are managed by this class. <br /></td></tr>
<tr class="separator:a480a69273ff680e84111bc2ace3bd5f7 inherit pub_methods_class_a_z_1_1_r_h_i_1_1_frame_count_max_ring_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class which manages a FrameCountMax number of RPI buffers and manages them in a ring buffer structure, meaning that whenever data needs to be updated, the current buffer index is incremented (mod FrameCountMax) and the data is then written to the new current buffer, such that the other buffers stay valid. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0fbca07d5624275f8eba6c2abd21398c" name="a0fbca07d5624275f8eba6c2abd21398c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fbca07d5624275f8eba6c2abd21398c">&#9670;&#160;</a></span>AdvanceCurrentBufferAndUpdateData() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RPI::RingBuffer::AdvanceCurrentBufferAndUpdateData </td>
          <td>(</td>
          <td class="paramtype">AZStd::span&lt; const T &gt;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Increments the current buffer index, potentially resized the current buffer and updates the data of the current data. This is a convenience function which calls AdvanceCurrentBuffer(), CreateOrResizeCurrentBuffer(...) and UpdateCurrentBufferData(...) </p>

</div>
</div>
<a id="a538eb1d688a24588e55a43fa229e212d" name="a538eb1d688a24588e55a43fa229e212d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a538eb1d688a24588e55a43fa229e212d">&#9670;&#160;</a></span>AdvanceCurrentBufferAndUpdateData() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RPI::RingBuffer::AdvanceCurrentBufferAndUpdateData </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64</td>          <td class="paramname"><span class="paramname"><em>dataSizeInBytes</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increments the current buffer index, potentially resized the current buffer and updates the data of the current data. This is a convenience function which calls AdvanceCurrentBuffer(), CreateOrResizeCurrentBuffer(...) and UpdateCurrentBufferData(...) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Atom/RPI/Code/Include/Atom/RPI.Public/Buffer/<b>RingBuffer.h</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RPI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_p_i_1_1_ring_buffer.html">RingBuffer</a></li>
    <li class="footer">Generated on Mon Oct 7 2024 17:14:53 for Open 3D Engine Atom Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
