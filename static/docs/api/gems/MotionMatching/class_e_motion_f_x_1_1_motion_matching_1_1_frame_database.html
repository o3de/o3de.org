<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine MotionMatching Gem API Reference: EMotionFX::MotionMatching::FrameDatabase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine MotionMatching Gem API Reference<span id="projectnumber">&#160;23.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_e_motion_f_x_1_1_motion_matching_1_1_frame_database.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_e_motion_f_x_1_1_motion_matching_1_1_frame_database-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">EMotionFX::MotionMatching::FrameDatabase Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;FrameDatabase.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_motion_f_x_1_1_motion_matching_1_1_frame_database_1_1_frame_import_settings.html">FrameImportSettings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51b1412c900d36a5ca09c910e9c371d5"><td class="memItemLeft" align="right" valign="top"><a id="a51b1412c900d36a5ca09c910e9c371d5" name="a51b1412c900d36a5ca09c910e9c371d5"></a>
AZStd::tuple&lt; size_t, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ImportFrames</b> (Motion *motion, const <a class="el" href="struct_e_motion_f_x_1_1_motion_matching_1_1_frame_database_1_1_frame_import_settings.html">FrameImportSettings</a> &amp;settings, bool mirrored)</td></tr>
<tr class="separator:a51b1412c900d36a5ca09c910e9c371d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9c483d82a9a66be2a7b0eee2cf4d99"><td class="memItemLeft" align="right" valign="top"><a id="a9e9c483d82a9a66be2a7b0eee2cf4d99" name="a9e9c483d82a9a66be2a7b0eee2cf4d99"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Clear</b> ()</td></tr>
<tr class="separator:a9e9c483d82a9a66be2a7b0eee2cf4d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4411142789974fc19e13e7754caa77c7"><td class="memItemLeft" align="right" valign="top"><a id="a4411142789974fc19e13e7754caa77c7" name="a4411142789974fc19e13e7754caa77c7"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumFrames</b> () const</td></tr>
<tr class="separator:a4411142789974fc19e13e7754caa77c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633946c6a5a518a022183ff3118d1e83"><td class="memItemLeft" align="right" valign="top"><a id="a633946c6a5a518a022183ff3118d1e83" name="a633946c6a5a518a022183ff3118d1e83"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumUsedMotions</b> () const</td></tr>
<tr class="separator:a633946c6a5a518a022183ff3118d1e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a242a8f52f79f862cfc6012ccb72fe"><td class="memItemLeft" align="right" valign="top"><a id="ad7a242a8f52f79f862cfc6012ccb72fe" name="ad7a242a8f52f79f862cfc6012ccb72fe"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>CalcMemoryUsageInBytes</b> () const</td></tr>
<tr class="separator:ad7a242a8f52f79f862cfc6012ccb72fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3bdfc5fc8e55f3b9d78cea64a3dd38"><td class="memItemLeft" align="right" valign="top"><a id="a2c3bdfc5fc8e55f3b9d78cea64a3dd38" name="a2c3bdfc5fc8e55f3b9d78cea64a3dd38"></a>
const Motion *&#160;</td><td class="memItemRight" valign="bottom"><b>GetUsedMotion</b> (size_t index) const</td></tr>
<tr class="separator:a2c3bdfc5fc8e55f3b9d78cea64a3dd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301235e8b8f182f18b7cba184b02647a"><td class="memItemLeft" align="right" valign="top"><a id="a301235e8b8f182f18b7cba184b02647a" name="a301235e8b8f182f18b7cba184b02647a"></a>
const <a class="el" href="class_e_motion_f_x_1_1_motion_matching_1_1_frame.html">Frame</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetFrame</b> (size_t index) const</td></tr>
<tr class="separator:a301235e8b8f182f18b7cba184b02647a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac94b777b1e21d7b7548da3f8528f81"><td class="memItemLeft" align="right" valign="top"><a id="a4ac94b777b1e21d7b7548da3f8528f81" name="a4ac94b777b1e21d7b7548da3f8528f81"></a>
const AZStd::vector&lt; <a class="el" href="class_e_motion_f_x_1_1_motion_matching_1_1_frame.html">Frame</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetFrames</b> () const</td></tr>
<tr class="separator:a4ac94b777b1e21d7b7548da3f8528f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0196f9115146963cfcedd0cebdf4d0e9"><td class="memItemLeft" align="right" valign="top"><a id="a0196f9115146963cfcedd0cebdf4d0e9" name="a0196f9115146963cfcedd0cebdf4d0e9"></a>
AZStd::vector&lt; <a class="el" href="class_e_motion_f_x_1_1_motion_matching_1_1_frame.html">Frame</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetFrames</b> ()</td></tr>
<tr class="separator:a0196f9115146963cfcedd0cebdf4d0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96481f0802810950cf24261d7da6cd76"><td class="memItemLeft" align="right" valign="top"><a id="a96481f0802810950cf24261d7da6cd76" name="a96481f0802810950cf24261d7da6cd76"></a>
const AZStd::vector&lt; const Motion * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetUsedMotions</b> () const</td></tr>
<tr class="separator:a96481f0802810950cf24261d7da6cd76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475b673df660dbf49ba2030302766055"><td class="memItemLeft" align="right" valign="top"><a id="a475b673df660dbf49ba2030302766055" name="a475b673df660dbf49ba2030302766055"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetSampleRate</b> () const</td></tr>
<tr class="separator:a475b673df660dbf49ba2030302766055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a966e8f9ba0c25cff690954671266ec"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_e_motion_f_x_1_1_motion_matching_1_1_frame_database.html#a7a966e8f9ba0c25cff690954671266ec">FindFrameIndex</a> (Motion *motion, float playtime) const</td></tr>
<tr class="separator:a7a966e8f9ba0c25cff690954671266ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1fa3bca35c62f1e12d3ad66cdcac7a"><td class="memItemLeft" align="right" valign="top"><a id="a0b1fa3bca35c62f1e12d3ad66cdcac7a" name="a0b1fa3bca35c62f1e12d3ad66cdcac7a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SaveAsCsv</b> (const char *filename, ActorInstance *actorInstance, const ETransformSpace transformSpace, bool writePositions, bool writeRotations) const</td></tr>
<tr class="memdesc:a0b1fa3bca35c62f1e12d3ad66cdcac7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save every frame as a row to a .csv file. <br /></td></tr>
<tr class="separator:a0b1fa3bca35c62f1e12d3ad66cdcac7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A set of frames from your animations sampled at a given sample rate is stored in the frame database. A frame object knows about its index in the frame database, the animation it belongs to and the sample time in seconds. It does not hold the actual sampled pose for memory reasons as the <code>EMotionFX::Motion</code> already store the transform keyframes. The sample rate of the animation might differ from the sample rate used for the frame database. For example, your animations might be recorded with 60 Hz while we only want to extract the features with a sample rate of 30 Hz. As the motion matching algorithm is blending between the frames in the motion database while playing the animation window between the jumps/blends, it can make sense to have animations with a higher sample rate than we use to extract the features. A frame of the motion database can be used to sample a pose from which we can extract the features. It also provides functionality to sample a pose with a time offset to that frame. This can be handy in order to calculate joint velocities or trajectory samples. When importing animations, frames that are within the range of a discard frame motion event are ignored and won't be added to the motion database. Discard motion events can be used to cut out sections of the imported animations that are unwanted like a stretching part between two dance cards. <br  />
 </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7a966e8f9ba0c25cff690954671266ec" name="a7a966e8f9ba0c25cff690954671266ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a966e8f9ba0c25cff690954671266ec">&#9670;&#160;</a></span>FindFrameIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t EMotionFX::MotionMatching::FrameDatabase::FindFrameIndex </td>
          <td>(</td>
          <td class="paramtype">Motion *&#160;</td>
          <td class="paramname"><em>motion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>playtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find the frame index for the given playtime and motion. NOTE: This is a slow operation and should not be used by the runtime without visual debugging. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/MotionMatching/Code/Source/FrameDatabase.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>EMotionFX</b></li><li class="navelem"><b>MotionMatching</b></li><li class="navelem"><a class="el" href="class_e_motion_f_x_1_1_motion_matching_1_1_frame_database.html">FrameDatabase</a></li>
    <li class="footer">Generated on Mon Oct 9 2023 13:49:30 for Open 3D Engine MotionMatching Gem API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
