<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Open 3D Engine AzFramework API Reference: AzFramework::SpawnableEntitiesManager::Ticket Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine AzFramework API Reference
   &#160;<span id="projectnumber">2107.1 (Developer Preview)</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_az_framework.html">AzFramework</a></li><li class="navelem"><a class="el" href="class_az_framework_1_1_spawnable_entities_manager.html">SpawnableEntitiesManager</a></li><li class="navelem"><a class="el" href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket.html">Ticket</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AzFramework::SpawnableEntitiesManager::Ticket Struct Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af07534ab5190101f967b407e3a2dd2d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af07534ab5190101f967b407e3a2dd2d7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket.html">Ticket</a>, AZ::ThreadPoolAllocator)</td></tr>
<tr class="separator:af07534ab5190101f967b407e3a2dd2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aecd903a12cf24dd49422c0683491fa05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecd903a12cf24dd49422c0683491fa05"></a>
AZStd::atomic_int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_referenceCount</b> { 1 }</td></tr>
<tr class="separator:aecd903a12cf24dd49422c0683491fa05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d0b34d4bee54d4fbfd99b50f366a457"><td class="memItemLeft" align="right" valign="top">EntityIdMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket.html#a9d0b34d4bee54d4fbfd99b50f366a457">m_entityIdReferenceMap</a></td></tr>
<tr class="separator:a9d0b34d4bee54d4fbfd99b50f366a457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12685acddc260739774fb87b977b37b9"><td class="memItemLeft" align="right" valign="top">AZStd::unordered_set<br class="typebreak"/>
&lt; AZ::EntityId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket.html#a12685acddc260739774fb87b977b37b9">m_previouslySpawned</a></td></tr>
<tr class="separator:a12685acddc260739774fb87b977b37b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86064b7f7573424f2571f56b0b6aa1cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86064b7f7573424f2571f56b0b6aa1cc"></a>
AZStd::vector&lt; AZ::Entity * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_spawnedEntities</b></td></tr>
<tr class="separator:a86064b7f7573424f2571f56b0b6aa1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e2eb2e419e1d9f16c9f63617e78ad5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1e2eb2e419e1d9f16c9f63617e78ad5"></a>
AZStd::vector&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_spawnedEntityIndices</b></td></tr>
<tr class="separator:ac1e2eb2e419e1d9f16c9f63617e78ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23eaf2327ee66e922118678626afd388"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23eaf2327ee66e922118678626afd388"></a>
AZ::Data::Asset&lt; <a class="el" href="class_az_framework_1_1_spawnable.html">Spawnable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_spawnable</b></td></tr>
<tr class="separator:a23eaf2327ee66e922118678626afd388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672bade8fef583d7764ed968a4c2a3e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a672bade8fef583d7764ed968a4c2a3e1"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket.html#a672bade8fef583d7764ed968a4c2a3e1">m_nextRequestId</a> { 0 }</td></tr>
<tr class="memdesc:a672bade8fef583d7764ed968a4c2a3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next id to be handed out to command that's using this ticket.. <br/></td></tr>
<tr class="separator:a672bade8fef583d7764ed968a4c2a3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd81d04af91d45a11e002c5994c0e5f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd81d04af91d45a11e002c5994c0e5f6"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket.html#acd81d04af91d45a11e002c5994c0e5f6">m_currentRequestId</a> { 0 }</td></tr>
<tr class="memdesc:acd81d04af91d45a11e002c5994c0e5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id for the command that should be executed. <br/></td></tr>
<tr class="separator:acd81d04af91d45a11e002c5994c0e5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdefdc1fb08c4e09fdcf1511e4a4687a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdefdc1fb08c4e09fdcf1511e4a4687a"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_az_framework_1_1_spawnable_entities_manager_1_1_ticket.html#abdefdc1fb08c4e09fdcf1511e4a4687a">m_ticketId</a> { 0 }</td></tr>
<tr class="memdesc:abdefdc1fb08c4e09fdcf1511e4a4687a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The unique id that identifies this ticket. <br/></td></tr>
<tr class="separator:abdefdc1fb08c4e09fdcf1511e4a4687a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb383d2ed662da894b0b8f0fa5b8445b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb383d2ed662da894b0b8f0fa5b8445b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_loadAll</b> { true }</td></tr>
<tr class="separator:aeb383d2ed662da894b0b8f0fa5b8445b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ab86169e0fbf3c73903aa797466a1092d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab86169e0fbf3c73903aa797466a1092d"></a>
static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>Processing</b> = AZStd::numeric_limits&lt;uint32_t&gt;::max()</td></tr>
<tr class="separator:ab86169e0fbf3c73903aa797466a1092d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a9d0b34d4bee54d4fbfd99b50f366a457"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EntityIdMap AzFramework::SpawnableEntitiesManager::Ticket::m_entityIdReferenceMap</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map of prototype entity ids to their associated instance ids. Tickets can be used to spawn the same prototype entities multiple times, in any order, across multiple calls. Since prototype entities can reference other entities, this map is used to fix up those references across calls using the following policy:</p>
<ul>
<li>Entities referencing an entity that hasn't been spawned yet will get a reference to the id that <em>will</em> be used the first time that entity will be spawned. The reference will be invalid until that entity is spawned, but will be valid if/when it gets spawned.</li>
<li>Entities referencing an entity that <em>has</em> been spawned will get a reference to the id that was <em>last</em> used to spawn the entity. Note that this implies a certain level of non-determinism when spawning across calls, because the entity references will be based on the order in which the SpawnEntity calls occur, which can be affected by things like priority. </li>
</ul>

</div>
</div>
<a class="anchor" id="a12685acddc260739774fb87b977b37b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZStd::unordered_set&lt;AZ::EntityId&gt; AzFramework::SpawnableEntitiesManager::Ticket::m_previouslySpawned</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For this to work, we also need to keep track of whether or not each entity has been spawned at least once, so we know whether or not to replace the id in the map when spawning a new instance of that entity. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>Code/Framework/AzFramework/AzFramework/Spawnable/SpawnableEntitiesManager.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 21 2023 00:19:00 for Open 3D Engine AzFramework API Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
