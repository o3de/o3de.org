<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine AzCore API Reference: AZ::IO::CompressorZLib Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine AzCore API Reference<span id="projectnumber">&#160;24.09</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_a_z_1_1_i_o_1_1_compressor_z_lib.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="class_a_z_1_1_i_o_1_1_compressor_z_lib-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AZ::IO::CompressorZLib Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;CompressorZLib.h&gt;</code></p>

<p>Inherits <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html">AZ::IO::Compressor</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab505a30faa262b10d9091cd7cf9fa6a3" id="r_ab505a30faa262b10d9091cd7cf9fa6a3"><td class="memItemLeft" align="right" valign="top"><a id="ab505a30faa262b10d9091cd7cf9fa6a3" name="ab505a30faa262b10d9091cd7cf9fa6a3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_z_lib.html">CompressorZLib</a>, <a class="el" href="class_a_z_1_1_system_allocator.html">AZ::SystemAllocator</a>)</td></tr>
<tr class="separator:ab505a30faa262b10d9091cd7cf9fa6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46490294df551c9ddf7d6950c9502780" id="r_a46490294df551c9ddf7d6950c9502780"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46490294df551c9ddf7d6950c9502780">CompressorZLib</a> (unsigned int decompressionCachePerStream=64 *1024, unsigned int dataBufferSize=128 *1024)</td></tr>
<tr class="separator:a46490294df551c9ddf7d6950c9502780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fedc4b85b00fb0c13a778d7f3ad3c87" id="r_a7fedc4b85b00fb0c13a778d7f3ad3c87"><td class="memItemLeft" align="right" valign="top">AZ::u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fedc4b85b00fb0c13a778d7f3ad3c87">GetTypeId</a> () const override</td></tr>
<tr class="memdesc:a7fedc4b85b00fb0c13a778d7f3ad3c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return compressor type id.  <br /></td></tr>
<tr class="separator:a7fedc4b85b00fb0c13a778d7f3ad3c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84c373801ec4acf42d6da66042b5e10" id="r_ad84c373801ec4acf42d6da66042b5e10"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad84c373801ec4acf42d6da66042b5e10">ReadHeaderAndData</a> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream, AZ::u8 *data, unsigned int dataSize) override</td></tr>
<tr class="memdesc:ad84c373801ec4acf42d6da66042b5e10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when we open a stream to Read for the first time. Data contains the first. dataSize &lt;= m_maxHeaderSize.  <br /></td></tr>
<tr class="separator:ad84c373801ec4acf42d6da66042b5e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c18af108e4ff39cd961c2cd5ebf0c8c" id="r_a9c18af108e4ff39cd961c2cd5ebf0c8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c18af108e4ff39cd961c2cd5ebf0c8c">WriteHeaderAndData</a> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream) override</td></tr>
<tr class="memdesc:a9c18af108e4ff39cd961c2cd5ebf0c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when we are about to start writing to a compressed stream.  <br /></td></tr>
<tr class="separator:a9c18af108e4ff39cd961c2cd5ebf0c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd8085a3076158896d9eae9917b4be2" id="r_aefd8085a3076158896d9eae9917b4be2"><td class="memItemLeft" align="right" valign="top">SizeType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefd8085a3076158896d9eae9917b4be2">Read</a> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream, SizeType byteSize, SizeType offset, void *buffer) override</td></tr>
<tr class="memdesc:aefd8085a3076158896d9eae9917b4be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forwarded function from the Device when we from a compressed stream.  <br /></td></tr>
<tr class="separator:aefd8085a3076158896d9eae9917b4be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c1e2b59f09ffc28bed9253f9e2bf0c" id="r_af1c1e2b59f09ffc28bed9253f9e2bf0c"><td class="memItemLeft" align="right" valign="top">SizeType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1c1e2b59f09ffc28bed9253f9e2bf0c">Write</a> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream, SizeType byteSize, const void *data, SizeType offset=SizeType(-1)) override</td></tr>
<tr class="memdesc:af1c1e2b59f09ffc28bed9253f9e2bf0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forwarded function from the Device when we write to a compressed stream.  <br /></td></tr>
<tr class="separator:af1c1e2b59f09ffc28bed9253f9e2bf0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5611c9f76bf029311dac2d22b5574efc" id="r_a5611c9f76bf029311dac2d22b5574efc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5611c9f76bf029311dac2d22b5574efc">WriteSeekPoint</a> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream) override</td></tr>
<tr class="memdesc:a5611c9f76bf029311dac2d22b5574efc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a seek point.  <br /></td></tr>
<tr class="separator:a5611c9f76bf029311dac2d22b5574efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41121b4477435a9548bdfb40d5ec0df9" id="r_a41121b4477435a9548bdfb40d5ec0df9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41121b4477435a9548bdfb40d5ec0df9">StartCompressor</a> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream, int compressionLevel, SizeType autoSeekDataSize) override</td></tr>
<tr class="memdesc:a41121b4477435a9548bdfb40d5ec0df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set auto seek point even dataSize bytes.  <br /></td></tr>
<tr class="separator:a41121b4477435a9548bdfb40d5ec0df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73412e79dfa314998095e8f8f65c575e" id="r_a73412e79dfa314998095e8f8f65c575e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73412e79dfa314998095e8f8f65c575e">Close</a> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream) override</td></tr>
<tr class="memdesc:a73412e79dfa314998095e8f8f65c575e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called just before we close the stream. All compression data will be flushed and finalized. (You can't add data afterwards).  <br /></td></tr>
<tr class="separator:a73412e79dfa314998095e8f8f65c575e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_a_z_1_1_i_o_1_1_compressor"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_a_z_1_1_i_o_1_1_compressor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html">AZ::IO::Compressor</a></td></tr>
<tr class="memitem:a366a7e3ac38d0e42de73ef1c27f93e0b inherit pub_methods_class_a_z_1_1_i_o_1_1_compressor" id="r_a366a7e3ac38d0e42de73ef1c27f93e0b"><td class="memItemLeft" align="right" valign="top">
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~Compressor</b> ()</td></tr>
<tr class="memdesc:a366a7e3ac38d0e42de73ef1c27f93e0b inherit pub_methods_class_a_z_1_1_i_o_1_1_compressor"><td class="mdescLeft">&#160;</td><td class="mdescRight">When we open a stream to check if it's compressed we read the first m_maxHeaderSize bytes. <br /></td></tr>
<tr class="separator:a366a7e3ac38d0e42de73ef1c27f93e0b inherit pub_methods_class_a_z_1_1_i_o_1_1_compressor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4c7b0cf49fdd736dfac2cd547bdcf418" id="r_a4c7b0cf49fdd736dfac2cd547bdcf418"><td class="memItemLeft" align="right" valign="top"><a id="a4c7b0cf49fdd736dfac2cd547bdcf418" name="a4c7b0cf49fdd736dfac2cd547bdcf418"></a>
static AZ::u32&#160;</td><td class="memItemRight" valign="bottom"><b>TypeId</b> ()</td></tr>
<tr class="memdesc:a4c7b0cf49fdd736dfac2cd547bdcf418"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return compressor type id. <br /></td></tr>
<tr class="separator:a4c7b0cf49fdd736dfac2cd547bdcf418"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8025655d2e33101c0ca2dc1bbc44c431" id="r_a8025655d2e33101c0ca2dc1bbc44c431"><td class="memItemLeft" align="right" valign="top"><a id="a8025655d2e33101c0ca2dc1bbc44c431" name="a8025655d2e33101c0ca2dc1bbc44c431"></a>
SizeType&#160;</td><td class="memItemRight" valign="bottom"><b>FillFromDecompressCache</b> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_z_lib_data.html">CompressorZLibData</a> *zlibData, void *&amp;buffer, SizeType &amp;byteSize, SizeType &amp;offset)</td></tr>
<tr class="memdesc:a8025655d2e33101c0ca2dc1bbc44c431"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read as much data as possible and adjust the parameters. <br /></td></tr>
<tr class="separator:a8025655d2e33101c0ca2dc1bbc44c431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea7dbc22c7819d11be1592cc37b6b5c" id="r_a8ea7dbc22c7819d11be1592cc37b6b5c"><td class="memItemLeft" align="right" valign="top"><a id="a8ea7dbc22c7819d11be1592cc37b6b5c" name="a8ea7dbc22c7819d11be1592cc37b6b5c"></a>
SizeType&#160;</td><td class="memItemRight" valign="bottom"><b>FillCompressedBuffer</b> (<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *stream)</td></tr>
<tr class="memdesc:a8ea7dbc22c7819d11be1592cc37b6b5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from stream into the compression buffer. <br /></td></tr>
<tr class="separator:a8ea7dbc22c7819d11be1592cc37b6b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97aabfb599d5e4bccb8485fbdf471608" id="r_a97aabfb599d5e4bccb8485fbdf471608"><td class="memItemLeft" align="right" valign="top"><a id="a97aabfb599d5e4bccb8485fbdf471608" name="a97aabfb599d5e4bccb8485fbdf471608"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AcquireDataBuffer</b> ()</td></tr>
<tr class="memdesc:a97aabfb599d5e4bccb8485fbdf471608"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire data buffer resource (if not created it will be allocated) and increment m_dataBufferUseCount. <br /></td></tr>
<tr class="separator:a97aabfb599d5e4bccb8485fbdf471608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3331d4d26d8c1e5d72e0cabf39d22408" id="r_a3331d4d26d8c1e5d72e0cabf39d22408"><td class="memItemLeft" align="right" valign="top"><a id="a3331d4d26d8c1e5d72e0cabf39d22408" name="a3331d4d26d8c1e5d72e0cabf39d22408"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ReleaseDataBuffer</b> ()</td></tr>
<tr class="memdesc:a3331d4d26d8c1e5d72e0cabf39d22408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release data buffer resource, if m_dataBufferUseCount == 0 all memory will be freed. <br /></td></tr>
<tr class="separator:a3331d4d26d8c1e5d72e0cabf39d22408"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aab6a0be240167da38a7dcb55cecb27cf" id="r_aab6a0be240167da38a7dcb55cecb27cf"><td class="memItemLeft" align="right" valign="top"><a id="aab6a0be240167da38a7dcb55cecb27cf" name="aab6a0be240167da38a7dcb55cecb27cf"></a>
<a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>m_lastReadStream</b></td></tr>
<tr class="memdesc:aab6a0be240167da38a7dcb55cecb27cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cached last stream we read data into the m_dataBuffer. <br /></td></tr>
<tr class="separator:aab6a0be240167da38a7dcb55cecb27cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f822f0150213d3f7996325efa81158" id="r_aa7f822f0150213d3f7996325efa81158"><td class="memItemLeft" align="right" valign="top"><a id="aa7f822f0150213d3f7996325efa81158" name="aa7f822f0150213d3f7996325efa81158"></a>
SizeType&#160;</td><td class="memItemRight" valign="bottom"><b>m_lastReadStreamOffset</b></td></tr>
<tr class="memdesc:aa7f822f0150213d3f7996325efa81158"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset of the last read (in the m_dataBuffer) in the compressed stream. <br /></td></tr>
<tr class="separator:aa7f822f0150213d3f7996325efa81158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b6e5580c40de9793a1d5e1dcfed82e" id="r_a93b6e5580c40de9793a1d5e1dcfed82e"><td class="memItemLeft" align="right" valign="top"><a id="a93b6e5580c40de9793a1d5e1dcfed82e" name="a93b6e5580c40de9793a1d5e1dcfed82e"></a>
SizeType&#160;</td><td class="memItemRight" valign="bottom"><b>m_lastReadStreamSize</b></td></tr>
<tr class="memdesc:a93b6e5580c40de9793a1d5e1dcfed82e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the data in m_dataBuffer of the last read. <br /></td></tr>
<tr class="separator:a93b6e5580c40de9793a1d5e1dcfed82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9232040cea4be76872294b0be96d79" id="r_adb9232040cea4be76872294b0be96d79"><td class="memItemLeft" align="right" valign="top"><a id="adb9232040cea4be76872294b0be96d79" name="adb9232040cea4be76872294b0be96d79"></a>
unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><b>m_compressedDataBuffer</b></td></tr>
<tr class="memdesc:adb9232040cea4be76872294b0be96d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data buffer used to read/write compressed data. <br /></td></tr>
<tr class="separator:adb9232040cea4be76872294b0be96d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d04416355b8edcb22a2b2f1eb6ad94" id="r_a23d04416355b8edcb22a2b2f1eb6ad94"><td class="memItemLeft" align="right" valign="top"><a id="a23d04416355b8edcb22a2b2f1eb6ad94" name="a23d04416355b8edcb22a2b2f1eb6ad94"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>m_compressedDataBufferSize</b></td></tr>
<tr class="memdesc:a23d04416355b8edcb22a2b2f1eb6ad94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data buffer size (stored so we can lazy allocate m_dataBuffer as we need). <br /></td></tr>
<tr class="separator:a23d04416355b8edcb22a2b2f1eb6ad94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad673cba918fb286275a58bac31696556" id="r_ad673cba918fb286275a58bac31696556"><td class="memItemLeft" align="right" valign="top"><a id="ad673cba918fb286275a58bac31696556" name="ad673cba918fb286275a58bac31696556"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>m_compressedDataBufferUseCount</b></td></tr>
<tr class="memdesc:ad673cba918fb286275a58bac31696556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data buffer use count. <br /></td></tr>
<tr class="separator:ad673cba918fb286275a58bac31696556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e0f4bb2b3bd586167e56c1f8f64dba" id="r_a86e0f4bb2b3bd586167e56c1f8f64dba"><td class="memItemLeft" align="right" valign="top"><a id="a86e0f4bb2b3bd586167e56c1f8f64dba" name="a86e0f4bb2b3bd586167e56c1f8f64dba"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>m_decompressionCachePerStream</b></td></tr>
<tr class="memdesc:a86e0f4bb2b3bd586167e56c1f8f64dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache per stream for each compressed stream stream in bytes. <br /></td></tr>
<tr class="separator:a86e0f4bb2b3bd586167e56c1f8f64dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ab45ba880f2f1f697ddd9940bcf44b374" id="r_ab45ba880f2f1f697ddd9940bcf44b374"><td class="memItemLeft" align="right" valign="top"><a id="ab45ba880f2f1f697ddd9940bcf44b374" name="ab45ba880f2f1f697ddd9940bcf44b374"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><b>m_CompressedDataBufferAlignment</b> = 16</td></tr>
<tr class="separator:ab45ba880f2f1f697ddd9940bcf44b374"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_a_z_1_1_i_o_1_1_compressor"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_class_a_z_1_1_i_o_1_1_compressor')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html">AZ::IO::Compressor</a></td></tr>
<tr class="memitem:a5e5902d086a9b9e357df76fc23ef64a2 inherit pub_types_class_a_z_1_1_i_o_1_1_compressor" id="r_a5e5902d086a9b9e357df76fc23ef64a2"><td class="memItemLeft" align="right" valign="top">
typedef AZ::u64&#160;</td><td class="memItemRight" valign="bottom"><b>SizeType</b></td></tr>
<tr class="separator:a5e5902d086a9b9e357df76fc23ef64a2 inherit pub_types_class_a_z_1_1_i_o_1_1_compressor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_class_a_z_1_1_i_o_1_1_compressor"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_attribs_class_a_z_1_1_i_o_1_1_compressor')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html">AZ::IO::Compressor</a></td></tr>
<tr class="memitem:a4999e9e475339033be24abffe0b8d3d1 inherit pub_static_attribs_class_a_z_1_1_i_o_1_1_compressor" id="r_a4999e9e475339033be24abffe0b8d3d1"><td class="memItemLeft" align="right" valign="top">
static const int&#160;</td><td class="memItemRight" valign="bottom"><b>m_maxHeaderSize</b> = 4096</td></tr>
<tr class="separator:a4999e9e475339033be24abffe0b8d3d1 inherit pub_static_attribs_class_a_z_1_1_i_o_1_1_compressor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_a_z_1_1_z_lib.html">ZLib</a> compressor implementation. Note: As of now the <a class="el" href="class_a_z_1_1_i_o_1_1_compressor_z_lib.html">CompressorZLib</a> is the only supported compressor. We can move much of the caching functionality into the base <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html">Compressor</a> class to be shared. Please do so when you have an actual need to implement another compressor, don't just copy and paste. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a46490294df551c9ddf7d6950c9502780" name="a46490294df551c9ddf7d6950c9502780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46490294df551c9ddf7d6950c9502780">&#9670;&#160;</a></span>CompressorZLib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AZ::IO::CompressorZLib::CompressorZLib </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>decompressionCachePerStream</em></span><span class="paramdefsep"> = </span><span class="paramdefval">64&#160;*1024</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dataBufferSize</em></span><span class="paramdefsep"> = </span><span class="paramdefval">128&#160;*1024</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decompressionCachePerStream</td><td>cache of decompressed data stored per stream, the more streams you have open the more memory it will use, You can use 0 size too to save memory, but every read will happen with decompression from the closest seek point. That might be fine if we use stream read cache and it matches the size of the seek points (you will need to make sure of that), otherwise the extra cache can be useful. We can convert this system to use pools of caches, but as of now this should be fine. </td></tr>
    <tr><td class="paramname">dataBufferSize</td><td>we have one compressor per device, only one stream can read/write at a time and the data buffer is shared for <a class="el" href="namespace_a_z_1_1_i_o.html" title="PathView implementation.">IO</a> operations, the buffer is refCounted and existing only when we read/write compressed streams. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a73412e79dfa314998095e8f8f65c575e" name="a73412e79dfa314998095e8f8f65c575e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73412e79dfa314998095e8f8f65c575e">&#9670;&#160;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::IO::CompressorZLib::Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called just before we close the stream. All compression data will be flushed and finalized. (You can't add data afterwards). </p>

<p>Implements <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#a5057d97e8d6c40e991d6f5ee6b3c5a99">AZ::IO::Compressor</a>.</p>

</div>
</div>
<a id="a7fedc4b85b00fb0c13a778d7f3ad3c87" name="a7fedc4b85b00fb0c13a778d7f3ad3c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fedc4b85b00fb0c13a778d7f3ad3c87">&#9670;&#160;</a></span>GetTypeId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AZ::u32 AZ::IO::CompressorZLib::GetTypeId </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return compressor type id. </p>

<p>Implements <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#aa186a5cae271bd12200a1df81b311ec1">AZ::IO::Compressor</a>.</p>

</div>
</div>
<a id="aefd8085a3076158896d9eae9917b4be2" name="aefd8085a3076158896d9eae9917b4be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd8085a3076158896d9eae9917b4be2">&#9670;&#160;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SizeType AZ::IO::CompressorZLib::Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SizeType</td>          <td class="paramname"><span class="paramname"><em>byteSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SizeType</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forwarded function from the Device when we from a compressed stream. </p>

<p>Implements <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#a48043000da14882df8f10c7d82c4bfd5">AZ::IO::Compressor</a>.</p>

</div>
</div>
<a id="ad84c373801ec4acf42d6da66042b5e10" name="ad84c373801ec4acf42d6da66042b5e10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84c373801ec4acf42d6da66042b5e10">&#9670;&#160;</a></span>ReadHeaderAndData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::IO::CompressorZLib::ReadHeaderAndData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AZ::u8 *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dataSize</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when we open a stream to Read for the first time. Data contains the first. dataSize &lt;= m_maxHeaderSize. </p>

<p>Implements <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#af250ab19ba205177df14e3d9e318f8d3">AZ::IO::Compressor</a>.</p>

</div>
</div>
<a id="a41121b4477435a9548bdfb40d5ec0df9" name="a41121b4477435a9548bdfb40d5ec0df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41121b4477435a9548bdfb40d5ec0df9">&#9670;&#160;</a></span>StartCompressor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::IO::CompressorZLib::StartCompressor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>compressionLevel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SizeType</td>          <td class="paramname"><span class="paramname"><em>autoSeekDataSize</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set auto seek point even dataSize bytes. </p>

<p>Reimplemented from <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#a2946eb099ed5b25630850c71414581dd">AZ::IO::Compressor</a>.</p>

</div>
</div>
<a id="af1c1e2b59f09ffc28bed9253f9e2bf0c" name="af1c1e2b59f09ffc28bed9253f9e2bf0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1c1e2b59f09ffc28bed9253f9e2bf0c">&#9670;&#160;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SizeType AZ::IO::CompressorZLib::Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SizeType</td>          <td class="paramname"><span class="paramname"><em>byteSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SizeType</td>          <td class="paramname"><span class="paramname"><em>offset</em></span><span class="paramdefsep"> = </span><span class="paramdefval">SizeType(-1)</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forwarded function from the Device when we write to a compressed stream. </p>

<p>Implements <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#a301f621d3a4b692f48c98788c3d8971d">AZ::IO::Compressor</a>.</p>

</div>
</div>
<a id="a9c18af108e4ff39cd961c2cd5ebf0c8c" name="a9c18af108e4ff39cd961c2cd5ebf0c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c18af108e4ff39cd961c2cd5ebf0c8c">&#9670;&#160;</a></span>WriteHeaderAndData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::IO::CompressorZLib::WriteHeaderAndData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when we are about to start writing to a compressed stream. </p>

<p>Reimplemented from <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#a6ebe0c8fdb946296d5d8061da1c607f9">AZ::IO::Compressor</a>.</p>

</div>
</div>
<a id="a5611c9f76bf029311dac2d22b5574efc" name="a5611c9f76bf029311dac2d22b5574efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5611c9f76bf029311dac2d22b5574efc">&#9670;&#160;</a></span>WriteSeekPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AZ::IO::CompressorZLib::WriteSeekPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_stream.html">CompressorStream</a> *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a seek point. </p>

<p>Reimplemented from <a class="el" href="class_a_z_1_1_i_o_1_1_compressor.html#aa84f69407e3aed2b3c88d84ee3c565a7">AZ::IO::Compressor</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Code/Framework/AzCore/AzCore/IO/<b>CompressorZLib.h</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><a class="el" href="namespace_a_z_1_1_i_o.html">IO</a></li><li class="navelem"><a class="el" href="class_a_z_1_1_i_o_1_1_compressor_z_lib.html">CompressorZLib</a></li>
    <li class="footer">Generated on Mon Oct 7 2024 16:44:03 for Open 3D Engine AzCore API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
