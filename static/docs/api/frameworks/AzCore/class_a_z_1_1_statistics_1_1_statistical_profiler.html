<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine AzCore API Reference: AZ::Statistics::StatisticalProfiler&lt; StatIdType, MutexType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open 3D Engine AzCore API Reference<span id="projectnumber">&#160;23.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_a_z_1_1_statistics_1_1_statistical_profiler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_a_z_1_1_statistics_1_1_statistical_profiler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AZ::Statistics::StatisticalProfiler&lt; StatIdType, MutexType &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;StatisticalProfiler.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_z_1_1_statistics_1_1_statistical_profiler_1_1_statistical_aggregate.html">StatisticalAggregate</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler_1_1_timed_scope.html">TimedScope</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59d70fbff28458cf9c6c9619b57403a0"><td class="memItemLeft" align="right" valign="top"><a id="a59d70fbff28458cf9c6c9619b57403a0" name="a59d70fbff28458cf9c6c9619b57403a0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>StatisticalProfiler</b> (const <a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler.html">StatisticalProfiler</a> &amp;other)</td></tr>
<tr class="separator:a59d70fbff28458cf9c6c9619b57403a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932e6e5c786dc5e575e3e8cbdb164300"><td class="memItemLeft" align="right" valign="top"><a id="a932e6e5c786dc5e575e3e8cbdb164300" name="a932e6e5c786dc5e575e3e8cbdb164300"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>StatisticalProfiler</b> (<a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler.html">StatisticalProfiler</a> &amp;&amp;other)</td></tr>
<tr class="separator:a932e6e5c786dc5e575e3e8cbdb164300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53632f9164654a566f79b147d1c7c966"><td class="memItemLeft" align="right" valign="top"><a id="a53632f9164654a566f79b147d1c7c966" name="a53632f9164654a566f79b147d1c7c966"></a>
<a class="el" href="class_a_z_1_1_statistics_1_1_statistics_manager.html">AZ::Statistics::StatisticsManager</a>&lt; StatIdType &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetStatsManager</b> ()</td></tr>
<tr class="separator:a53632f9164654a566f79b147d1c7c966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2f6eddee5c7ee17f56a44ae2593021"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler.html#afe2f6eddee5c7ee17f56a44ae2593021">SummarizePerFrameStats</a> ()</td></tr>
<tr class="separator:afe2f6eddee5c7ee17f56a44ae2593021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4069bb591fac1d639607c5fa22d9916e"><td class="memItemLeft" align="right" valign="top"><a id="a4069bb591fac1d639607c5fa22d9916e" name="a4069bb591fac1d639607c5fa22d9916e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>LogAndResetStats</b> (const char *windowName)</td></tr>
<tr class="separator:a4069bb591fac1d639607c5fa22d9916e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67f7a44715ca343859f6e89044c9057"><td class="memItemLeft" align="right" valign="top"><a id="af67f7a44715ca343859f6e89044c9057" name="af67f7a44715ca343859f6e89044c9057"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PushSample</b> (const StatIdType &amp;statId, double value)</td></tr>
<tr class="separator:af67f7a44715ca343859f6e89044c9057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9668b6a86a87b524b2522bad5f50ee"><td class="memItemLeft" align="right" valign="top"><a id="a1a9668b6a86a87b524b2522bad5f50ee" name="a1a9668b6a86a87b524b2522bad5f50ee"></a>
const <a class="el" href="class_a_z_1_1_statistics_1_1_named_running_statistic.html">AZ::Statistics::NamedRunningStatistic</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetStatistic</b> (const StatIdType &amp;statId)</td></tr>
<tr class="separator:a1a9668b6a86a87b524b2522bad5f50ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67feccb2842c8d4b45fb7254d148f071"><td class="memItemLeft" align="right" valign="top"><a id="a67feccb2842c8d4b45fb7254d148f071" name="a67feccb2842c8d4b45fb7254d148f071"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>AddPerFrameStatisticalAggregate</b> (const <a class="el" href="class_a_z_std_1_1vector.html">AZStd::vector</a>&lt; StatIdType &gt; &amp;statIds, const StatIdType &amp;timePerFrameStatId, const <a class="el" href="class_a_z_std_1_1basic__string.html">AZStd::string</a> &amp;timePerFrameStatName)</td></tr>
<tr class="separator:a67feccb2842c8d4b45fb7254d148f071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd6d167cb88e2db396f9914360368c3"><td class="memItemLeft" align="right" valign="top"><a id="a9dd6d167cb88e2db396f9914360368c3" name="a9dd6d167cb88e2db396f9914360368c3"></a>
const <a class="el" href="class_a_z_1_1_statistics_1_1_named_running_statistic.html">AZ::Statistics::NamedRunningStatistic</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetFirstStatPerFrame</b> () const</td></tr>
<tr class="separator:a9dd6d167cb88e2db396f9914360368c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7204cd37f91d45729a330e8e6b1ace65"><td class="memItemLeft" align="right" valign="top"><a id="a7204cd37f91d45729a330e8e6b1ace65" name="a7204cd37f91d45729a330e8e6b1ace65"></a>
MutexType&#160;</td><td class="memItemRight" valign="bottom"><b>m_mutex</b></td></tr>
<tr class="memdesc:a7204cd37f91d45729a330e8e6b1ace65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock this before reading/writing to m_timeStatisticsManager, or else... <br /></td></tr>
<tr class="separator:a7204cd37f91d45729a330e8e6b1ace65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab34474c00988cc44328c94222368c5d6"><td class="memItemLeft" align="right" valign="top"><a id="ab34474c00988cc44328c94222368c5d6" name="ab34474c00988cc44328c94222368c5d6"></a>
<a class="el" href="class_a_z_1_1_statistics_1_1_statistics_manager.html">AZ::Statistics::StatisticsManager</a>&lt; StatIdType &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_statisticsManager</b></td></tr>
<tr class="separator:ab34474c00988cc44328c94222368c5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6ffc256804dca1f3920af73fc9d197"><td class="memItemLeft" align="right" valign="top"><a id="abf6ffc256804dca1f3920af73fc9d197" name="abf6ffc256804dca1f3920af73fc9d197"></a>
<a class="el" href="class_a_z_std_1_1vector.html">AZStd::vector</a>&lt; <a class="el" href="class_a_z_1_1_statistics_1_1_named_running_statistic.html">AZ::Statistics::NamedRunningStatistic</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_statsVector</b></td></tr>
<tr class="separator:abf6ffc256804dca1f3920af73fc9d197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e46502a6111e8c91f5f472aaa3c61f"><td class="memItemLeft" align="right" valign="top"><a id="a67e46502a6111e8c91f5f472aaa3c61f" name="a67e46502a6111e8c91f5f472aaa3c61f"></a>
<a class="el" href="class_a_z_std_1_1vector.html">AZStd::vector</a>&lt; <a class="el" href="struct_a_z_1_1_statistics_1_1_statistical_profiler_1_1_statistical_aggregate.html">StatisticalAggregate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_perFrameAggregates</b></td></tr>
<tr class="separator:a67e46502a6111e8c91f5f472aaa3c61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a69b416e099170769e078e5fd5515f05d"><td class="memItemLeft" align="right" valign="top"><a id="a69b416e099170769e078e5fd5515f05d" name="a69b416e099170769e078e5fd5515f05d"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>TimedScope</b></td></tr>
<tr class="separator:a69b416e099170769e078e5fd5515f05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class StatIdType = AZStd::string, class MutexType = AZ::NullMutex&gt;<br />
class AZ::Statistics::StatisticalProfiler&lt; StatIdType, MutexType &gt;</div><p>A helper class that facilitates collecting time spent in blocks (scopes) of code and aggregating the measured times as running statistics.</p>
<p>See "StatisticalProfilerProxy.h" for more explanations on the meaning of Statistical Profiling.</p>
<p>The <a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler.html">StatisticalProfiler</a> was made as a template to accommodate for several performance needs... If all the code that is being profiled is single threaded and you want to identify each statistic by its string name, then the default StatisticalProfiler&lt;&gt; works for you. If using a map&lt;strings, stat&gt; is too much of what you can afford, then index your statistics with an integer or crc32 and your code profiler should be declared as StatisticalProfiler&lt;AZ::Crc32&gt;. For multi-threaded cases and indexing statistic with <a class="el" href="class_a_z_1_1_crc32.html">Crc32</a> you can have a profiler like this: StatisticalProfiler&lt;AZ::Crc32, AZStd::mutex&gt;. The UnitTests mentioned in the first paragraph do benchmarks of different combinations of indexing and synchronization primitives.</p>
<p>Even though you can create, subclass and use your own StatisticalProfiler&lt;*,*&gt;, there are some things to consider when working with the <a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler_proxy.html">StatisticalProfilerProxy</a>: The <a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler_proxy.html">StatisticalProfilerProxy</a> OWNS an array of StatisticalProfiler&lt;AZStd::string, AZStd::shared_mutex&gt;. You can "manage" one of those <a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler.html">StatisticalProfiler</a> by getting a reference to it and add Running statistics etc. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="afe2f6eddee5c7ee17f56a44ae2593021" name="afe2f6eddee5c7ee17f56a44ae2593021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2f6eddee5c7ee17f56a44ae2593021">&#9670;&#160;</a></span>SummarizePerFrameStats()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class StatIdType  = AZStd::string, class MutexType  = AZ::NullMutex&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler.html">AZ::Statistics::StatisticalProfiler</a>&lt; StatIdType, MutexType &gt;::SummarizePerFrameStats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Should be called once per frame, it runs over all existing timed stats in m_statsForPerFrameCalculation and accumulates all the values as a single stat per frame. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Code/Framework/AzCore/AzCore/Statistics/StatisticalProfiler.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>Statistics</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_statistics_1_1_statistical_profiler.html">StatisticalProfiler</a></li>
    <li class="footer">Generated on Mon Oct 9 2023 13:38:47 for Open 3D Engine AzCore API Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
