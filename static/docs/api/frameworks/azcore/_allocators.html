<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open 3D Engine AzCore API Reference: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="/images/api-reference/api-ref-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine AzCore API Reference
   &#160;<span id="projectnumber">22.10.0</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><p><a class="el" href="namespace_a_z_std.html" title="AZ namespace needs to be closed in order to specialize the AZStd::hash struct for AddressTypeElement ...">AZStd</a> uses simple and fast allocator model, it does not follow the CStd. It is not templated on any type, thus is doesn't care about construction or destruction. We do require name support, in most cases should be just a pointer to a literal.</p>
<p>This is the specification for an AZSTD allocator: </p><div class="fragment"><div class="line"><span class="keyword">class </span>allocator</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> <span class="comment">// Type of the returned pointer. Usually void*</span></div>
<div class="line"> typedef &lt;impl defined&gt;  pointer_type;</div>
<div class="line"> <span class="comment">// Size type, any container using this allocator will use this size_type. Usually AZStd::size_t</span></div>
<div class="line"> typedef &lt;impl defined&gt;  size_type;</div>
<div class="line"> <span class="comment">// Pointer difference type, usually AZStd::ptrdiff_t.</span></div>
<div class="line"> typedef &lt;impl defined&gt;  difference_type;</div>
<div class="line"> <span class="comment">// Allowing memory leaks will instruct allocator&#39;s users to never</span></div>
<div class="line"> <span class="comment">// even bother to call deallocate. This can result in a faster code. Usually is false_type.</span></div>
<div class="line"> <span class="keyword">typedef</span> true_type (or false_type) allow_memory_leaks;</div>
<div class="line"> </div>
<div class="line"> allocator(<span class="keyword">const</span> <span class="keywordtype">char</span>* name = <span class="stringliteral">&quot;AZSTD Allocator&quot;</span>);</div>
<div class="line"> allocator(<span class="keyword">const</span> allocator&amp; rhs);</div>
<div class="line"> allocator(<span class="keyword">const</span> allocator&amp; rhs, <span class="keyword">const</span> <span class="keywordtype">char</span>* name);</div>
<div class="line"> allocator&amp; operator=(<span class="keyword">const</span> allocator&amp; rhs;</div>
<div class="line"> </div>
<div class="line"> pointer_type allocate(size_type byteSize, size_type alignment, <span class="keywordtype">int</span> flags = 0);</div>
<div class="line"> <span class="keywordtype">void</span>         deallocate(pointer_type ptr, size_type byteSize, size_type alignment);</div>
<div class="line"> size_type    resize(pointer_type ptr, size_type newSize);</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">char</span>* get_name() <span class="keyword">const</span>;</div>
<div class="line"> <span class="keywordtype">void</span>        set_name(<span class="keyword">const</span> <span class="keywordtype">char</span>* name);</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Returns theoretical maximum size of a single contiguous allocation from this allocator.</span></div>
<div class="line"> size_type               max_size() <span class="keyword">const</span>;</div>
<div class="line"> &lt;optional&gt; size_type    get_allocated_size() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> allocator&amp; a, <span class="keyword">const</span> allocator&amp; b);</div>
<div class="line"><span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> allocator&amp; a, <span class="keyword">const</span> allocator&amp; b);</div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>allow_memory_leaks is important to be set to true for temporary memory buffers like: stack allocators, etc. This will allow <a class="el" href="namespace_a_z_std.html" title="AZ namespace needs to be closed in order to specialize the AZStd::hash struct for AddressTypeElement ...">AZStd</a> containers to have automatic "leak_and_reset" behavior, which will allow fast destroy without memory deallocation. This is especially important for temporary containers that make multiple allocations (like hash_maps, lists, etc.).</dd></dl>
<ul>
<li><a class="el" href="class_a_z_std_1_1allocator.html">Default Allocator</a> </li>
<li><a class="el" href="class_a_z_std_1_1no__default__allocator.html">Invalid Default Allocator</a> </li>
<li><a class="el" href="class_a_z_std_1_1static__buffer__allocator.html">Static Buffer Allocator</a> </li>
<li><a class="el" href="class_a_z_std_1_1static__pool__allocator.html">Static Pool Allocator</a> </li>
<li><a class="el" href="class_a_z_std_1_1allocator__ref.html">Allocator Reference</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 5 2022 14:03:25 for Open 3D Engine AzCore API Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
